//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/util/ActorTrace.java
//


#line 1 "/Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/util/ActorTrace.java"

#include "J2ObjC_source.h"
#include "im/actor/model/droidkit/actors/Actor.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/droidkit/actors/ActorScope.h"
#include "im/actor/model/droidkit/actors/mailbox/Envelope.h"
#include "im/actor/model/log/Log.h"
#include "im/actor/model/util/ActorTrace.h"
#include "java/lang/Exception.h"

#define AMActorTrace_PROCESS_THRESHOLD 300

static NSString *AMActorTrace_TAG_ = 
#line 14
@"ACTOR_SYSTEM";
J2OBJC_STATIC_FIELD_GETTER(AMActorTrace, TAG_, NSString *)

J2OBJC_STATIC_FIELD_GETTER(AMActorTrace, PROCESS_THRESHOLD, jint)


#line 12
@implementation AMActorTrace


#line 19
- (void)onEnvelopeDeliveredWithDKEnvelope:(DKEnvelope *)envelope {
}


#line 24
- (void)onEnvelopeProcessedWithDKEnvelope:(DKEnvelope *)envelope
                                 withLong:(jlong)duration {
  if (duration > AMActorTrace_PROCESS_THRESHOLD) {
    AMLog_wWithNSString_withNSString_(AMActorTrace_TAG_, JreStrcat("$$$@C", @"Too long ", [((DKActorScope *) nil_chk([((DKEnvelope *) nil_chk(envelope)) getScope])) getPath], @" {", [envelope getMessage], '}'));
  }
}

- (void)onDropWithDKActorRef:(DKActorRef *)sender
                      withId:(id)message
                 withDKActor:(DKActor *)actor {
  AMLog_wWithNSString_withNSString_(AMActorTrace_TAG_, JreStrcat("$@", @"Drop: ", message));
}


#line 36
- (void)onDeadLetterWithDKActorRef:(DKActorRef *)receiver
                            withId:(id)message {
  AMLog_wWithNSString_withNSString_(AMActorTrace_TAG_, JreStrcat("$@", @"Dead Letter: ", message));
}

- (void)onActorDieWithDKActorRef:(DKActorRef *)ref
           withJavaLangException:(JavaLangException *)e {
  AMLog_wWithNSString_withNSString_(AMActorTrace_TAG_, JreStrcat("$@", @"Die: ", e));
  [((JavaLangException *) nil_chk(e)) printStackTrace];
}

- (instancetype)init {
  AMActorTrace_init(self);
  return self;
}

@end

void AMActorTrace_init(AMActorTrace *self) {
  (void) NSObject_init(self);
}

AMActorTrace *new_AMActorTrace_init() {
  AMActorTrace *self = [AMActorTrace alloc];
  AMActorTrace_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AMActorTrace)
