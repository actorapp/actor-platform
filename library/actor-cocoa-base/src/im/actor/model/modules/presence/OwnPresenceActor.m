//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/modules/presence/OwnPresenceActor.java
//


#line 1 "/Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/modules/presence/OwnPresenceActor.java"

#include "J2ObjC_source.h"
#include "im/actor/model/api/rpc/RequestSetOnline.h"
#include "im/actor/model/api/rpc/ResponseVoid.h"
#include "im/actor/model/droidkit/actors/Actor.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/modules/presence/OwnPresenceActor.h"
#include "im/actor/model/modules/utils/ModuleActor.h"
#include "im/actor/model/network/RpcCallback.h"
#include "im/actor/model/network/RpcException.h"

#define ImActorModelModulesPresenceOwnPresenceActor_RESEND_TIMEOUT 60000
#define ImActorModelModulesPresenceOwnPresenceActor_TIMEOUT 90000

@interface ImActorModelModulesPresenceOwnPresenceActor () {
 @public
  jboolean isVisible_;
}

- (void)onAppVisible;

- (void)onAppHidden;

- (void)performOnline;

@end

J2OBJC_STATIC_FIELD_GETTER(ImActorModelModulesPresenceOwnPresenceActor, RESEND_TIMEOUT, jint)

J2OBJC_STATIC_FIELD_GETTER(ImActorModelModulesPresenceOwnPresenceActor, TIMEOUT, jint)

__attribute__((unused)) static void ImActorModelModulesPresenceOwnPresenceActor_onAppVisible(ImActorModelModulesPresenceOwnPresenceActor *self);

__attribute__((unused)) static void ImActorModelModulesPresenceOwnPresenceActor_onAppHidden(ImActorModelModulesPresenceOwnPresenceActor *self);

__attribute__((unused)) static void ImActorModelModulesPresenceOwnPresenceActor_performOnline(ImActorModelModulesPresenceOwnPresenceActor *self);

@interface ImActorModelModulesPresenceOwnPresenceActor_$1 : NSObject < AMRpcCallback >

- (void)onResultWithImActorModelNetworkParserResponse:(ImActorModelApiRpcResponseVoid *)response;

- (void)onErrorWithAMRpcException:(AMRpcException *)e;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesPresenceOwnPresenceActor_$1)

__attribute__((unused)) static void ImActorModelModulesPresenceOwnPresenceActor_$1_init(ImActorModelModulesPresenceOwnPresenceActor_$1 *self);

__attribute__((unused)) static ImActorModelModulesPresenceOwnPresenceActor_$1 *new_ImActorModelModulesPresenceOwnPresenceActor_$1_init() NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesPresenceOwnPresenceActor_$1)


#line 18
@implementation ImActorModelModulesPresenceOwnPresenceActor


#line 25
- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)messenger {
  ImActorModelModulesPresenceOwnPresenceActor_initWithImActorModelModulesModules_(self, messenger);
  return self;
}


#line 29
- (void)onAppVisible {
  ImActorModelModulesPresenceOwnPresenceActor_onAppVisible(self);
}


#line 34
- (void)onAppHidden {
  ImActorModelModulesPresenceOwnPresenceActor_onAppHidden(self);
}


#line 39
- (void)performOnline {
  ImActorModelModulesPresenceOwnPresenceActor_performOnline(self);
}


#line 60
- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible class]]) {
    ImActorModelModulesPresenceOwnPresenceActor_onAppVisible(self);
  }
  else
#line 63
  if ([message isKindOfClass:[ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden class]]) {
    ImActorModelModulesPresenceOwnPresenceActor_onAppHidden(self);
  }
  else
#line 65
  if ([message isKindOfClass:[ImActorModelModulesPresenceOwnPresenceActor_PerformOnline class]]) {
    ImActorModelModulesPresenceOwnPresenceActor_performOnline(self);
  }
  else {
    
#line 68
    [self dropWithId:message];
  }
}

@end


#line 25
void ImActorModelModulesPresenceOwnPresenceActor_initWithImActorModelModulesModules_(ImActorModelModulesPresenceOwnPresenceActor *self, ImActorModelModulesModules *messenger) {
  (void) ImActorModelModulesUtilsModuleActor_initWithImActorModelModulesModules_(self, messenger);
  self->isVisible_ =
#line 23
  NO;
}


#line 25
ImActorModelModulesPresenceOwnPresenceActor *new_ImActorModelModulesPresenceOwnPresenceActor_initWithImActorModelModulesModules_(ImActorModelModulesModules *messenger) {
  ImActorModelModulesPresenceOwnPresenceActor *self = [ImActorModelModulesPresenceOwnPresenceActor alloc];
  ImActorModelModulesPresenceOwnPresenceActor_initWithImActorModelModulesModules_(self, messenger);
  return self;
}


#line 29
void ImActorModelModulesPresenceOwnPresenceActor_onAppVisible(ImActorModelModulesPresenceOwnPresenceActor *self) {
  self->isVisible_ = YES;
  [((DKActorRef *) nil_chk([self self__])) sendOnceWithId:new_ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init()];
}

void ImActorModelModulesPresenceOwnPresenceActor_onAppHidden(ImActorModelModulesPresenceOwnPresenceActor *self) {
  self->isVisible_ = NO;
  [((DKActorRef *) nil_chk([self self__])) sendOnceWithId:new_ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init()];
}

void ImActorModelModulesPresenceOwnPresenceActor_performOnline(ImActorModelModulesPresenceOwnPresenceActor *self) {
  [self requestWithImActorModelNetworkParserRequest:new_ImActorModelApiRpcRequestSetOnline_initWithBoolean_withLong_(self->isVisible_, ImActorModelModulesPresenceOwnPresenceActor_TIMEOUT) withAMRpcCallback:new_ImActorModelModulesPresenceOwnPresenceActor_$1_init()];
  
#line 52
  if (self->isVisible_) {
    [((DKActorRef *) nil_chk([self self__])) sendOnceWithId:new_ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init() withLong:ImActorModelModulesPresenceOwnPresenceActor_RESEND_TIMEOUT];
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresenceOwnPresenceActor)


#line 72
@implementation ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible

- (instancetype)init {
  ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible_init(self);
  return self;
}

@end

void ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible_init(ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible *new_ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible_init() {
  ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible *self = [ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible alloc];
  ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible)


#line 76
@implementation ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden

- (instancetype)init {
  ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden_init(self);
  return self;
}

@end

void ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden_init(ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden *new_ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden_init() {
  ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden *self = [ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden alloc];
  ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden)


#line 80
@implementation ImActorModelModulesPresenceOwnPresenceActor_PerformOnline

- (instancetype)init {
  ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init(self);
  return self;
}

@end

void ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init(ImActorModelModulesPresenceOwnPresenceActor_PerformOnline *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesPresenceOwnPresenceActor_PerformOnline *new_ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init() {
  ImActorModelModulesPresenceOwnPresenceActor_PerformOnline *self = [ImActorModelModulesPresenceOwnPresenceActor_PerformOnline alloc];
  ImActorModelModulesPresenceOwnPresenceActor_PerformOnline_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresenceOwnPresenceActor_PerformOnline)

@implementation ImActorModelModulesPresenceOwnPresenceActor_$1


#line 43
- (void)onResultWithImActorModelNetworkParserResponse:(ImActorModelApiRpcResponseVoid *)response {
}


#line 48
- (void)onErrorWithAMRpcException:(AMRpcException *)e {
}

- (instancetype)init {
  ImActorModelModulesPresenceOwnPresenceActor_$1_init(self);
  return self;
}

@end

void ImActorModelModulesPresenceOwnPresenceActor_$1_init(ImActorModelModulesPresenceOwnPresenceActor_$1 *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesPresenceOwnPresenceActor_$1 *new_ImActorModelModulesPresenceOwnPresenceActor_$1_init() {
  ImActorModelModulesPresenceOwnPresenceActor_$1 *self = [ImActorModelModulesPresenceOwnPresenceActor_$1 alloc];
  ImActorModelModulesPresenceOwnPresenceActor_$1_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresenceOwnPresenceActor_$1)
