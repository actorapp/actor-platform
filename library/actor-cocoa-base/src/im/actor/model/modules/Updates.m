//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/modules/Updates.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/model/api/base/FatSeqUpdate.h"
#include "im/actor/model/api/base/SeqUpdate.h"
#include "im/actor/model/droidkit/actors/ActorCreator.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/droidkit/actors/ActorSystem.h"
#include "im/actor/model/droidkit/actors/Props.h"
#include "im/actor/model/modules/BaseModule.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/modules/Updates.h"
#include "im/actor/model/modules/updates/SequenceActor.h"
#include "im/actor/model/modules/updates/internal/ExecuteAfter.h"
#include "im/actor/model/network/parser/Update.h"
#include "java/lang/Runnable.h"
#include "java/util/List.h"

@interface ImActorModelModulesUpdates () {
 @public
  DKActorRef *updateActor_;
}

@end

J2OBJC_FIELD_SETTER(ImActorModelModulesUpdates, updateActor_, DKActorRef *)

@interface ImActorModelModulesUpdates_$1 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesUpdates *this$0_;
}

- (ImActorModelModulesUpdatesSequenceActor *)create;

- (instancetype)initWithImActorModelModulesUpdates:(ImActorModelModulesUpdates *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesUpdates_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesUpdates_$1, this$0_, ImActorModelModulesUpdates *)

__attribute__((unused)) static void ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(ImActorModelModulesUpdates_$1 *self, ImActorModelModulesUpdates *outer$);

__attribute__((unused)) static ImActorModelModulesUpdates_$1 *new_ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(ImActorModelModulesUpdates *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesUpdates_$1)

@implementation ImActorModelModulesUpdates

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)messenger {
  ImActorModelModulesUpdates_initWithImActorModelModulesModules_(self, messenger);
  return self;
}

- (void)run {
  self->updateActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesUpdatesSequenceActor_class_(), new_ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(self)) withNSString:@"actor/updates"];
}

- (void)onNewSessionCreated {
  [((DKActorRef *) nil_chk(updateActor_)) sendWithId:new_ImActorModelModulesUpdatesSequenceActor_Invalidate_init()];
}

- (void)onPushReceivedWithInt:(jint)seq {
  [((DKActorRef *) nil_chk(updateActor_)) sendWithId:new_ImActorModelModulesUpdatesSequenceActor_PushSeq_initWithInt_(seq)];
}

- (void)onSeqUpdateReceivedWithInt:(jint)seq
                     withByteArray:(IOSByteArray *)state
                      withAPUpdate:(APUpdate *)update {
  [((DKActorRef *) nil_chk(updateActor_)) sendWithId:new_ImActorModelApiBaseSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_(seq, state, [((APUpdate *) nil_chk(update)) getHeaderKey], [update toByteArray])];
}

- (void)onFatSeqUpdateReceivedWithInt:(jint)seq
                        withByteArray:(IOSByteArray *)state
                         withAPUpdate:(APUpdate *)update
                     withJavaUtilList:(id<JavaUtilList>)users
                     withJavaUtilList:(id<JavaUtilList>)groups {
  [((DKActorRef *) nil_chk(updateActor_)) sendWithId:new_ImActorModelApiBaseFatSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_withJavaUtilList_withJavaUtilList_(seq, state, [((APUpdate *) nil_chk(update)) getHeaderKey], [update toByteArray], users, groups)];
}

- (void)onUpdateReceivedWithId:(id)update {
  [((DKActorRef *) nil_chk(updateActor_)) sendWithId:update];
}

- (void)executeAfterWithInt:(jint)seq
       withJavaLangRunnable:(id<JavaLangRunnable>)runnable {
  [((DKActorRef *) nil_chk(updateActor_)) sendWithId:new_ImActorModelModulesUpdatesInternalExecuteAfter_initWithInt_withJavaLangRunnable_(seq, runnable)];
}

- (void)resetModule {
}

@end

void ImActorModelModulesUpdates_initWithImActorModelModulesModules_(ImActorModelModulesUpdates *self, ImActorModelModulesModules *messenger) {
  (void) ImActorModelModulesBaseModule_initWithImActorModelModulesModules_(self, messenger);
}

ImActorModelModulesUpdates *new_ImActorModelModulesUpdates_initWithImActorModelModulesModules_(ImActorModelModulesModules *messenger) {
  ImActorModelModulesUpdates *self = [ImActorModelModulesUpdates alloc];
  ImActorModelModulesUpdates_initWithImActorModelModulesModules_(self, messenger);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesUpdates)

@implementation ImActorModelModulesUpdates_$1

- (ImActorModelModulesUpdatesSequenceActor *)create {
  return new_ImActorModelModulesUpdatesSequenceActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesUpdates:(ImActorModelModulesUpdates *)outer$ {
  ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(self, outer$);
  return self;
}

@end

void ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(ImActorModelModulesUpdates_$1 *self, ImActorModelModulesUpdates *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesUpdates_$1 *new_ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(ImActorModelModulesUpdates *outer$) {
  ImActorModelModulesUpdates_$1 *self = [ImActorModelModulesUpdates_$1 alloc];
  ImActorModelModulesUpdates_$1_initWithImActorModelModulesUpdates_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesUpdates_$1)
