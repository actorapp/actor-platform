//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/modules/Messages.java
//


#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/model/StorageProvider.h"
#include "im/actor/model/api/OutPeer.h"
#include "im/actor/model/api/Peer.h"
#include "im/actor/model/api/PeerType.h"
#include "im/actor/model/api/base/SeqUpdate.h"
#include "im/actor/model/api/rpc/RequestClearChat.h"
#include "im/actor/model/api/rpc/RequestDeleteChat.h"
#include "im/actor/model/api/rpc/ResponseSeq.h"
#include "im/actor/model/api/updates/UpdateChatClear.h"
#include "im/actor/model/api/updates/UpdateChatDelete.h"
#include "im/actor/model/concurrency/Command.h"
#include "im/actor/model/concurrency/CommandCallback.h"
#include "im/actor/model/droidkit/actors/ActorCreator.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/droidkit/actors/ActorSystem.h"
#include "im/actor/model/droidkit/actors/Props.h"
#include "im/actor/model/droidkit/engine/KeyValueEngine.h"
#include "im/actor/model/droidkit/engine/KeyValueStorage.h"
#include "im/actor/model/droidkit/engine/ListEngine.h"
#include "im/actor/model/droidkit/engine/ListStorage.h"
#include "im/actor/model/droidkit/engine/PreferencesStorage.h"
#include "im/actor/model/droidkit/engine/SyncKeyValue.h"
#include "im/actor/model/entity/Group.h"
#include "im/actor/model/entity/Peer.h"
#include "im/actor/model/entity/PeerType.h"
#include "im/actor/model/entity/User.h"
#include "im/actor/model/entity/content/FastThumb.h"
#include "im/actor/model/files/FileSystemReference.h"
#include "im/actor/model/modules/BaseModule.h"
#include "im/actor/model/modules/Messages.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/modules/Updates.h"
#include "im/actor/model/modules/messages/ConversationActor.h"
#include "im/actor/model/modules/messages/ConversationHistoryActor.h"
#include "im/actor/model/modules/messages/CursorReaderActor.h"
#include "im/actor/model/modules/messages/CursorReceiverActor.h"
#include "im/actor/model/modules/messages/DialogsActor.h"
#include "im/actor/model/modules/messages/DialogsHistoryActor.h"
#include "im/actor/model/modules/messages/MessageDeleteActor.h"
#include "im/actor/model/modules/messages/OwnReadActor.h"
#include "im/actor/model/modules/messages/SenderActor.h"
#include "im/actor/model/network/RpcCallback.h"
#include "im/actor/model/network/RpcException.h"
#include "im/actor/model/network/RpcInternalException.h"
#include "java/lang/Boolean.h"
#include "java/lang/Long.h"
#include "java/lang/Runnable.h"
#include "java/util/ArrayList.h"
#include "java/util/HashMap.h"

@interface ImActorModelModulesMessages () {
 @public
  id<DKListEngine> dialogs_;
  DKActorRef *dialogsActor_;
  DKActorRef *dialogsHistoryActor_;
  DKActorRef *ownReadActor_;
  DKActorRef *plainReadActor_;
  DKActorRef *plainReceiverActor_;
  DKActorRef *sendMessageActor_;
  DKActorRef *deletionsActor_;
  JavaUtilHashMap *conversationEngines_;
  JavaUtilHashMap *conversationMediaEngines_;
  JavaUtilHashMap *conversationActors_;
  JavaUtilHashMap *conversationHistoryActors_;
  DKSyncKeyValue *conversationPending_;
  DKSyncKeyValue *cursorStorage_;
}

- (void)assumeConvActorWithAMPeer:(AMPeer *)peer;

@end

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, dialogs_, id<DKListEngine>)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, dialogsActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, dialogsHistoryActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, ownReadActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, plainReadActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, plainReceiverActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, sendMessageActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, deletionsActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, conversationEngines_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, conversationMediaEngines_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, conversationActors_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, conversationHistoryActors_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, conversationPending_, DKSyncKeyValue *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages, cursorStorage_, DKSyncKeyValue *)

__attribute__((unused)) static void ImActorModelModulesMessages_assumeConvActorWithAMPeer_(ImActorModelModulesMessages *self, AMPeer *peer);

@interface ImActorModelModulesMessages_ConversationHolder : NSObject {
 @public
  DKActorRef *conversationActor_;
  DKActorRef *historyActor_;
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                     withDKActorRef:(DKActorRef *)conversationActor
                                     withDKActorRef:(DKActorRef *)historyActor;

- (DKActorRef *)getConversationActor;

- (DKActorRef *)getHistoryActor;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_ConversationHolder)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_ConversationHolder, conversationActor_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_ConversationHolder, historyActor_, DKActorRef *)

__attribute__((unused)) static void ImActorModelModulesMessages_ConversationHolder_initWithImActorModelModulesMessages_withDKActorRef_withDKActorRef_(ImActorModelModulesMessages_ConversationHolder *self, ImActorModelModulesMessages *outer$, DKActorRef *conversationActor, DKActorRef *historyActor);

__attribute__((unused)) static ImActorModelModulesMessages_ConversationHolder *new_ImActorModelModulesMessages_ConversationHolder_initWithImActorModelModulesMessages_withDKActorRef_withDKActorRef_(ImActorModelModulesMessages *outer$, DKActorRef *conversationActor, DKActorRef *historyActor) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_ConversationHolder)

@interface ImActorModelModulesMessages_$1 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesDialogsActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$1, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$1 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$1 *new_ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$1)

@interface ImActorModelModulesMessages_$2 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesDialogsHistoryActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$2)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$2, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$2 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$2 *new_ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$2)

@interface ImActorModelModulesMessages_$3 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesOwnReadActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$3)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$3, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$3 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$3 *new_ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$3)

@interface ImActorModelModulesMessages_$4 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesCursorReaderActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$4)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$4, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$4 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$4 *new_ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$4)

@interface ImActorModelModulesMessages_$5 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesCursorReceiverActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$5)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$5, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$5 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$5 *new_ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$5)

@interface ImActorModelModulesMessages_$6 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesSenderActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$6)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$6, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$6 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$6 *new_ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$6)

@interface ImActorModelModulesMessages_$7 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
}

- (ImActorModelModulesMessagesMessageDeleteActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$7)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$7, this$0_, ImActorModelModulesMessages *)

__attribute__((unused)) static void ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$7 *self, ImActorModelModulesMessages *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$7 *new_ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$7)

@interface ImActorModelModulesMessages_$8 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
  AMPeer *val$peer_;
}

- (ImActorModelModulesMessagesConversationActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$8)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$8, this$0_, ImActorModelModulesMessages *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$8, val$peer_, AMPeer *)

__attribute__((unused)) static void ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$8 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$8 *new_ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$8)

@interface ImActorModelModulesMessages_$9 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesMessages *this$0_;
  AMPeer *val$peer_;
}

- (ImActorModelModulesMessagesConversationHistoryActor *)create;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$9)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$9, this$0_, ImActorModelModulesMessages *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$9, val$peer_, AMPeer *)

__attribute__((unused)) static void ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$9 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$9 *new_ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$9)

@interface ImActorModelModulesMessages_$10 : NSObject < AMCommand > {
 @public
  ImActorModelModulesMessages *this$0_;
  AMPeer *val$peer_;
}

- (void)startWithAMCommandCallback:(id<AMCommandCallback>)callback;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10, this$0_, ImActorModelModulesMessages *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10, val$peer_, AMPeer *)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$10 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$10 *new_ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10)

@interface ImActorModelModulesMessages_$10_$1 : NSObject < JavaLangRunnable > {
 @public
  id<AMCommandCallback> val$callback_;
}

- (void)run;

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$1, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(ImActorModelModulesMessages_$10_$1 *self, id<AMCommandCallback> capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$10_$1 *new_ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10_$1)

@interface ImActorModelModulesMessages_$10_$2 : NSObject < JavaLangRunnable > {
 @public
  id<AMCommandCallback> val$callback_;
}

- (void)run;

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10_$2)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$2, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(ImActorModelModulesMessages_$10_$2 *self, id<AMCommandCallback> capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$10_$2 *new_ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10_$2)

@interface ImActorModelModulesMessages_$10_$3 : NSObject < JavaLangRunnable > {
 @public
  id<AMCommandCallback> val$callback_;
}

- (void)run;

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10_$3)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$3, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(ImActorModelModulesMessages_$10_$3 *self, id<AMCommandCallback> capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$10_$3 *new_ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10_$3)

@interface ImActorModelModulesMessages_$10_$4 : NSObject < AMRpcCallback > {
 @public
  ImActorModelModulesMessages_$10 *this$0_;
  ImActorModelApiPeer *val$apiPeer_;
  id<AMCommandCallback> val$callback_;
}

- (void)onResultWithImActorModelNetworkParserResponse:(ImActorModelApiRpcResponseSeq *)response;

- (void)onErrorWithAMRpcException:(AMRpcException *)e;

- (instancetype)initWithImActorModelModulesMessages_$10:(ImActorModelModulesMessages_$10 *)outer$
                                withImActorModelApiPeer:(ImActorModelApiPeer *)capture$0
                                  withAMCommandCallback:(id<AMCommandCallback>)capture$1;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10_$4)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$4, this$0_, ImActorModelModulesMessages_$10 *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$4, val$apiPeer_, ImActorModelApiPeer *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$4, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$10_$4 *self, ImActorModelModulesMessages_$10 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1);

__attribute__((unused)) static ImActorModelModulesMessages_$10_$4 *new_ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$10 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10_$4)

@interface ImActorModelModulesMessages_$10_$4_$1 : NSObject < JavaLangRunnable > {
 @public
  ImActorModelModulesMessages_$10_$4 *this$0_;
}

- (void)run;

- (instancetype)initWithImActorModelModulesMessages_$10_$4:(ImActorModelModulesMessages_$10_$4 *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10_$4_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$4_$1, this$0_, ImActorModelModulesMessages_$10_$4 *)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(ImActorModelModulesMessages_$10_$4_$1 *self, ImActorModelModulesMessages_$10_$4 *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$10_$4_$1 *new_ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(ImActorModelModulesMessages_$10_$4 *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10_$4_$1)

@interface ImActorModelModulesMessages_$10_$4_$2 : NSObject < JavaLangRunnable > {
 @public
  ImActorModelModulesMessages_$10_$4 *this$0_;
  AMRpcException *val$e_;
}

- (void)run;

- (instancetype)initWithImActorModelModulesMessages_$10_$4:(ImActorModelModulesMessages_$10_$4 *)outer$
                                        withAMRpcException:(AMRpcException *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$10_$4_$2)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$4_$2, this$0_, ImActorModelModulesMessages_$10_$4 *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$10_$4_$2, val$e_, AMRpcException *)

__attribute__((unused)) static void ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(ImActorModelModulesMessages_$10_$4_$2 *self, ImActorModelModulesMessages_$10_$4 *outer$, AMRpcException *capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$10_$4_$2 *new_ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(ImActorModelModulesMessages_$10_$4 *outer$, AMRpcException *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$10_$4_$2)

@interface ImActorModelModulesMessages_$11 : NSObject < AMCommand > {
 @public
  ImActorModelModulesMessages *this$0_;
  AMPeer *val$peer_;
}

- (void)startWithAMCommandCallback:(id<AMCommandCallback>)callback;

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11, this$0_, ImActorModelModulesMessages *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11, val$peer_, AMPeer *)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$11 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$11 *new_ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11)

@interface ImActorModelModulesMessages_$11_$1 : NSObject < JavaLangRunnable > {
 @public
  id<AMCommandCallback> val$callback_;
}

- (void)run;

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$1, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(ImActorModelModulesMessages_$11_$1 *self, id<AMCommandCallback> capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$11_$1 *new_ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11_$1)

@interface ImActorModelModulesMessages_$11_$2 : NSObject < JavaLangRunnable > {
 @public
  id<AMCommandCallback> val$callback_;
}

- (void)run;

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11_$2)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$2, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(ImActorModelModulesMessages_$11_$2 *self, id<AMCommandCallback> capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$11_$2 *new_ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11_$2)

@interface ImActorModelModulesMessages_$11_$3 : NSObject < JavaLangRunnable > {
 @public
  id<AMCommandCallback> val$callback_;
}

- (void)run;

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11_$3)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$3, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(ImActorModelModulesMessages_$11_$3 *self, id<AMCommandCallback> capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$11_$3 *new_ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11_$3)

@interface ImActorModelModulesMessages_$11_$4 : NSObject < AMRpcCallback > {
 @public
  ImActorModelModulesMessages_$11 *this$0_;
  ImActorModelApiPeer *val$apiPeer_;
  id<AMCommandCallback> val$callback_;
}

- (void)onResultWithImActorModelNetworkParserResponse:(ImActorModelApiRpcResponseSeq *)response;

- (void)onErrorWithAMRpcException:(AMRpcException *)e;

- (instancetype)initWithImActorModelModulesMessages_$11:(ImActorModelModulesMessages_$11 *)outer$
                                withImActorModelApiPeer:(ImActorModelApiPeer *)capture$0
                                  withAMCommandCallback:(id<AMCommandCallback>)capture$1;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11_$4)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$4, this$0_, ImActorModelModulesMessages_$11 *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$4, val$apiPeer_, ImActorModelApiPeer *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$4, val$callback_, id<AMCommandCallback>)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$11_$4 *self, ImActorModelModulesMessages_$11 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1);

__attribute__((unused)) static ImActorModelModulesMessages_$11_$4 *new_ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$11 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11_$4)

@interface ImActorModelModulesMessages_$11_$4_$1 : NSObject < JavaLangRunnable > {
 @public
  ImActorModelModulesMessages_$11_$4 *this$0_;
}

- (void)run;

- (instancetype)initWithImActorModelModulesMessages_$11_$4:(ImActorModelModulesMessages_$11_$4 *)outer$;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11_$4_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$4_$1, this$0_, ImActorModelModulesMessages_$11_$4 *)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(ImActorModelModulesMessages_$11_$4_$1 *self, ImActorModelModulesMessages_$11_$4 *outer$);

__attribute__((unused)) static ImActorModelModulesMessages_$11_$4_$1 *new_ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(ImActorModelModulesMessages_$11_$4 *outer$) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11_$4_$1)

@interface ImActorModelModulesMessages_$11_$4_$2 : NSObject < JavaLangRunnable > {
 @public
  ImActorModelModulesMessages_$11_$4 *this$0_;
  AMRpcException *val$e_;
}

- (void)run;

- (instancetype)initWithImActorModelModulesMessages_$11_$4:(ImActorModelModulesMessages_$11_$4 *)outer$
                                        withAMRpcException:(AMRpcException *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesMessages_$11_$4_$2)

J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$4_$2, this$0_, ImActorModelModulesMessages_$11_$4 *)
J2OBJC_FIELD_SETTER(ImActorModelModulesMessages_$11_$4_$2, val$e_, AMRpcException *)

__attribute__((unused)) static void ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(ImActorModelModulesMessages_$11_$4_$2 *self, ImActorModelModulesMessages_$11_$4 *outer$, AMRpcException *capture$0);

__attribute__((unused)) static ImActorModelModulesMessages_$11_$4_$2 *new_ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(ImActorModelModulesMessages_$11_$4 *outer$, AMRpcException *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesMessages_$11_$4_$2)

@implementation ImActorModelModulesMessages

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)messenger {
  ImActorModelModulesMessages_initWithImActorModelModulesModules_(self, messenger);
  return self;
}

- (void)run {
  self->dialogsActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesDialogsActor_class_(), new_ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/dialogs"];
  self->dialogsHistoryActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesDialogsHistoryActor_class_(), new_ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/dialogs/history"];
  self->ownReadActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesOwnReadActor_class_(), new_ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/read/own"];
  self->plainReadActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesCursorReaderActor_class_(), new_ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/plain/read"];
  self->plainReceiverActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesCursorReceiverActor_class_(), new_ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/plain/receive"];
  self->sendMessageActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesSenderActor_class_(), new_ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/sender/small"];
  self->deletionsActor_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesMessageDeleteActor_class_(), new_ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(self)) withNSString:@"actor/deletions"];
}

- (DKActorRef *)getSendMessageActor {
  return sendMessageActor_;
}

- (DKActorRef *)getPlainReadActor {
  return plainReadActor_;
}

- (DKActorRef *)getPlainReceiverActor {
  return plainReceiverActor_;
}

- (DKActorRef *)getOwnReadActor {
  return ownReadActor_;
}

- (DKSyncKeyValue *)getConversationPending {
  return conversationPending_;
}

- (DKSyncKeyValue *)getCursorStorage {
  return cursorStorage_;
}

- (void)assumeConvActorWithAMPeer:(AMPeer *)peer {
  ImActorModelModulesMessages_assumeConvActorWithAMPeer_(self, peer);
}

- (DKActorRef *)getConversationHistoryActorWithAMPeer:(AMPeer *)peer {
  ImActorModelModulesMessages_assumeConvActorWithAMPeer_(self, peer);
  @synchronized(conversationActors_) {
    return [((JavaUtilHashMap *) nil_chk(conversationHistoryActors_)) getWithId:peer];
  }
}

- (DKActorRef *)getConversationActorWithAMPeer:(AMPeer *)peer {
  ImActorModelModulesMessages_assumeConvActorWithAMPeer_(self, peer);
  @synchronized(conversationActors_) {
    return [((JavaUtilHashMap *) nil_chk(conversationActors_)) getWithId:peer];
  }
}

- (void)onConversationOpenWithAMPeer:(AMPeer *)peer {
  ImActorModelModulesMessages_assumeConvActorWithAMPeer_(self, peer);
}

- (id<DKListEngine>)getConversationEngineWithAMPeer:(AMPeer *)peer {
  @synchronized(conversationEngines_) {
    if (![((JavaUtilHashMap *) nil_chk(conversationEngines_)) containsKeyWithId:peer]) {
      id<DKListStorage> storage = [((id<AMStorageProvider>) nil_chk([self storage])) createListWithName:JreStrcat("$J", ImActorModelModulesBaseModule_get_STORAGE_CHAT_PREFIX_(), [((AMPeer *) nil_chk(peer)) getUnuqueId])];
      (void) [conversationEngines_ putWithId:peer withId:[((id<AMStorageProvider>) nil_chk([self storage])) createMessagesListWithAMPeer:peer withDKListStorage:storage]];
    }
    return [conversationEngines_ getWithId:peer];
  }
}

- (id<DKListEngine>)getMediaEngineWithAMPeer:(AMPeer *)peer {
  @synchronized(conversationMediaEngines_) {
    if (![((JavaUtilHashMap *) nil_chk(conversationMediaEngines_)) containsKeyWithId:peer]) {
      id<DKListStorage> storage = [((id<AMStorageProvider>) nil_chk([self storage])) createListWithName:JreStrcat("$J", ImActorModelModulesBaseModule_get_STORAGE_CHAT_MEDIA_PREFIX_(), [((AMPeer *) nil_chk(peer)) getUnuqueId])];
      (void) [conversationMediaEngines_ putWithId:peer withId:[((id<AMStorageProvider>) nil_chk([self storage])) createMessagesListWithAMPeer:peer withDKListStorage:storage]];
    }
    return [conversationMediaEngines_ getWithId:peer];
  }
}

- (DKActorRef *)getDialogsActor {
  return dialogsActor_;
}

- (DKActorRef *)getDialogsHistoryActor {
  return dialogsHistoryActor_;
}

- (id<DKListEngine>)getDialogsEngine {
  return dialogs_;
}

- (void)deleteMessagesWithAMPeer:(AMPeer *)peer
                   withLongArray:(IOSLongArray *)rids {
  DKActorRef *conversationActor = [self getConversationActorWithAMPeer:peer];
  JavaUtilArrayList *deleted = new_JavaUtilArrayList_init();
  {
    IOSLongArray *a__ = rids;
    jlong const *b__ = ((IOSLongArray *) nil_chk(a__))->buffer_;
    jlong const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      jlong rid = *b__++;
      [deleted addWithId:JavaLangLong_valueOfWithLong_(rid)];
    }
  }
  [((DKActorRef *) nil_chk(conversationActor)) sendWithId:new_ImActorModelModulesMessagesConversationActor_MessagesDeleted_initWithJavaUtilList_(deleted)];
  [((DKActorRef *) nil_chk(deletionsActor_)) sendWithId:new_ImActorModelModulesMessagesMessageDeleteActor_DeleteMessage_initWithAMPeer_withLongArray_(peer, rids)];
}

- (void)loadMoreDialogs {
  [((DKActorRef *) nil_chk(dialogsHistoryActor_)) sendWithId:new_ImActorModelModulesMessagesDialogsHistoryActor_LoadMore_init()];
}

- (void)loadMoreHistoryWithAMPeer:(AMPeer *)peer {
  [((DKActorRef *) nil_chk([self getConversationHistoryActorWithAMPeer:peer])) sendWithId:new_ImActorModelModulesMessagesConversationHistoryActor_LoadMore_init()];
}

- (void)sendMessageWithAMPeer:(AMPeer *)peer
                 withNSString:(NSString *)message {
  [((DKActorRef *) nil_chk(sendMessageActor_)) sendWithId:new_ImActorModelModulesMessagesSenderActor_SendText_initWithAMPeer_withNSString_(peer, message)];
}

- (void)sendPhotoWithAMPeer:(AMPeer *)peer
               withNSString:(NSString *)fileName
                    withInt:(jint)w
                    withInt:(jint)h
            withAMFastThumb:(AMFastThumb *)fastThumb
  withAMFileSystemReference:(id<AMFileSystemReference>)fileSystemReference {
  [((DKActorRef *) nil_chk(sendMessageActor_)) sendWithId:new_ImActorModelModulesMessagesSenderActor_SendPhoto_initWithAMPeer_withAMFastThumb_withNSString_withNSString_withInt_withInt_withInt_(peer, fastThumb, [((id<AMFileSystemReference>) nil_chk(fileSystemReference)) getDescriptor], fileName, [fileSystemReference getSize], w, h)];
}

- (void)sendVideoWithAMPeer:(AMPeer *)peer
               withNSString:(NSString *)fileName
                    withInt:(jint)w
                    withInt:(jint)h
                    withInt:(jint)duration
            withAMFastThumb:(AMFastThumb *)fastThumb
  withAMFileSystemReference:(id<AMFileSystemReference>)fileSystemReference {
  [((DKActorRef *) nil_chk(sendMessageActor_)) sendWithId:new_ImActorModelModulesMessagesSenderActor_SendVideo_initWithAMPeer_withNSString_withInt_withInt_withInt_withAMFastThumb_withNSString_withInt_(peer, fileName, w, h, duration, fastThumb, [((id<AMFileSystemReference>) nil_chk(fileSystemReference)) getDescriptor], [fileSystemReference getSize])];
}

- (void)sendDocumentWithAMPeer:(AMPeer *)peer
                  withNSString:(NSString *)fileName
                  withNSString:(NSString *)mimeType
               withAMFastThumb:(AMFastThumb *)fastThumb
     withAMFileSystemReference:(id<AMFileSystemReference>)fileSystemReference {
  [((DKActorRef *) nil_chk(sendMessageActor_)) sendWithId:new_ImActorModelModulesMessagesSenderActor_SendDocument_initWithAMPeer_withNSString_withNSString_withInt_withNSString_withAMFastThumb_(peer, fileName, mimeType, [((id<AMFileSystemReference>) nil_chk(fileSystemReference)) getSize], [fileSystemReference getDescriptor], fastThumb)];
}

- (void)onInMessageShownWithAMPeer:(AMPeer *)peer
                          withLong:(jlong)sortDate {
  [((DKActorRef *) nil_chk(ownReadActor_)) sendWithId:new_ImActorModelModulesMessagesOwnReadActor_MessageRead_initWithAMPeer_withLong_(peer, sortDate)];
}

- (void)saveReadStateWithAMPeer:(AMPeer *)peer
                       withLong:(jlong)lastReadDate {
  [((id<DKPreferencesStorage>) nil_chk([self preferences])) putLong:JreStrcat("$J", @"read_state_", [((AMPeer *) nil_chk(peer)) getUnuqueId]) withValue:lastReadDate];
}

- (jlong)loadReadStateWithAMPeer:(AMPeer *)peer {
  return [((id<DKPreferencesStorage>) nil_chk([self preferences])) getLong:JreStrcat("$J", @"read_state_", [((AMPeer *) nil_chk(peer)) getUnuqueId]) withDefault:0];
}

- (void)saveDraftWithAMPeer:(AMPeer *)peer
               withNSString:(NSString *)draft {
  [((id<DKPreferencesStorage>) nil_chk([self preferences])) putString:JreStrcat("$J", @"draft_", [((AMPeer *) nil_chk(peer)) getUnuqueId]) withValue:[((NSString *) nil_chk(draft)) trim]];
}

- (NSString *)loadDraftWithAMPeer:(AMPeer *)peer {
  NSString *res = [((id<DKPreferencesStorage>) nil_chk([self preferences])) getString:JreStrcat("$J", @"draft_", [((AMPeer *) nil_chk(peer)) getUnuqueId])];
  if (res == nil) {
    return @"";
  }
  else {
    return res;
  }
}

- (id<AMCommand>)deleteChatWithAMPeer:(AMPeer *)peer {
  return new_ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(self, peer);
}

- (id<AMCommand>)clearChatWithAMPeer:(AMPeer *)peer {
  return new_ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(self, peer);
}

@end

void ImActorModelModulesMessages_initWithImActorModelModulesModules_(ImActorModelModulesMessages *self, ImActorModelModulesModules *messenger) {
  (void) ImActorModelModulesBaseModule_initWithImActorModelModulesModules_(self, messenger);
  self->conversationEngines_ = new_JavaUtilHashMap_init();
  self->conversationMediaEngines_ = new_JavaUtilHashMap_init();
  self->conversationActors_ = new_JavaUtilHashMap_init();
  self->conversationHistoryActors_ = new_JavaUtilHashMap_init();
  self->conversationPending_ = new_DKSyncKeyValue_initWithDKKeyValueStorage_([((id<AMStorageProvider>) nil_chk([self storage])) createKeyValueWithName:ImActorModelModulesBaseModule_get_STORAGE_PENDING_()]);
  self->cursorStorage_ = new_DKSyncKeyValue_initWithDKKeyValueStorage_([((id<AMStorageProvider>) nil_chk([self storage])) createKeyValueWithName:ImActorModelModulesBaseModule_get_STORAGE_CURSOR_()]);
  self->dialogs_ = [((id<AMStorageProvider>) nil_chk([self storage])) createDialogsListWithDKListStorage:[((id<AMStorageProvider>) nil_chk([self storage])) createListWithName:ImActorModelModulesBaseModule_get_STORAGE_DIALOGS_()]];
}

ImActorModelModulesMessages *new_ImActorModelModulesMessages_initWithImActorModelModulesModules_(ImActorModelModulesModules *messenger) {
  ImActorModelModulesMessages *self = [ImActorModelModulesMessages alloc];
  ImActorModelModulesMessages_initWithImActorModelModulesModules_(self, messenger);
  return self;
}

void ImActorModelModulesMessages_assumeConvActorWithAMPeer_(ImActorModelModulesMessages *self, AMPeer *peer) {
  @synchronized(self->conversationActors_) {
    if (![((JavaUtilHashMap *) nil_chk(self->conversationActors_)) containsKeyWithId:peer]) {
      (void) [self->conversationActors_ putWithId:peer withId:[((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesConversationActor_class_(), new_ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(self, peer)) withNSString:JreStrcat("$@CI", @"actor/conv_", [((AMPeer *) nil_chk(peer)) getPeerType], '_', [peer getPeerId])]];
      (void) [((JavaUtilHashMap *) nil_chk(self->conversationHistoryActors_)) putWithId:peer withId:[((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesMessagesConversationHistoryActor_class_(), new_ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(self, peer)) withNSString:JreStrcat("$@CI$", @"actor/conv_", [peer getPeerType], '_', [peer getPeerId], @"/history")]];
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages)

@implementation ImActorModelModulesMessages_ConversationHolder

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                     withDKActorRef:(DKActorRef *)conversationActor
                                     withDKActorRef:(DKActorRef *)historyActor {
  ImActorModelModulesMessages_ConversationHolder_initWithImActorModelModulesMessages_withDKActorRef_withDKActorRef_(self, outer$, conversationActor, historyActor);
  return self;
}

- (DKActorRef *)getConversationActor {
  return conversationActor_;
}

- (DKActorRef *)getHistoryActor {
  return historyActor_;
}

@end

void ImActorModelModulesMessages_ConversationHolder_initWithImActorModelModulesMessages_withDKActorRef_withDKActorRef_(ImActorModelModulesMessages_ConversationHolder *self, ImActorModelModulesMessages *outer$, DKActorRef *conversationActor, DKActorRef *historyActor) {
  (void) NSObject_init(self);
  self->conversationActor_ = conversationActor;
  self->historyActor_ = historyActor;
}

ImActorModelModulesMessages_ConversationHolder *new_ImActorModelModulesMessages_ConversationHolder_initWithImActorModelModulesMessages_withDKActorRef_withDKActorRef_(ImActorModelModulesMessages *outer$, DKActorRef *conversationActor, DKActorRef *historyActor) {
  ImActorModelModulesMessages_ConversationHolder *self = [ImActorModelModulesMessages_ConversationHolder alloc];
  ImActorModelModulesMessages_ConversationHolder_initWithImActorModelModulesMessages_withDKActorRef_withDKActorRef_(self, outer$, conversationActor, historyActor);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_ConversationHolder)

@implementation ImActorModelModulesMessages_$1

- (ImActorModelModulesMessagesDialogsActor *)create {
  return new_ImActorModelModulesMessagesDialogsActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$1 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$1 *new_ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$1 *self = [ImActorModelModulesMessages_$1 alloc];
  ImActorModelModulesMessages_$1_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$1)

@implementation ImActorModelModulesMessages_$2

- (ImActorModelModulesMessagesDialogsHistoryActor *)create {
  return new_ImActorModelModulesMessagesDialogsHistoryActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$2 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$2 *new_ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$2 *self = [ImActorModelModulesMessages_$2 alloc];
  ImActorModelModulesMessages_$2_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$2)

@implementation ImActorModelModulesMessages_$3

- (ImActorModelModulesMessagesOwnReadActor *)create {
  return new_ImActorModelModulesMessagesOwnReadActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$3 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$3 *new_ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$3 *self = [ImActorModelModulesMessages_$3 alloc];
  ImActorModelModulesMessages_$3_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$3)

@implementation ImActorModelModulesMessages_$4

- (ImActorModelModulesMessagesCursorReaderActor *)create {
  return new_ImActorModelModulesMessagesCursorReaderActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$4 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$4 *new_ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$4 *self = [ImActorModelModulesMessages_$4 alloc];
  ImActorModelModulesMessages_$4_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$4)

@implementation ImActorModelModulesMessages_$5

- (ImActorModelModulesMessagesCursorReceiverActor *)create {
  return new_ImActorModelModulesMessagesCursorReceiverActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$5 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$5 *new_ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$5 *self = [ImActorModelModulesMessages_$5 alloc];
  ImActorModelModulesMessages_$5_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$5)

@implementation ImActorModelModulesMessages_$6

- (ImActorModelModulesMessagesSenderActor *)create {
  return new_ImActorModelModulesMessagesSenderActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$6 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$6 *new_ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$6 *self = [ImActorModelModulesMessages_$6 alloc];
  ImActorModelModulesMessages_$6_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$6)

@implementation ImActorModelModulesMessages_$7

- (ImActorModelModulesMessagesMessageDeleteActor *)create {
  return new_ImActorModelModulesMessagesMessageDeleteActor_initWithImActorModelModulesModules_([this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$ {
  ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(ImActorModelModulesMessages_$7 *self, ImActorModelModulesMessages *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$7 *new_ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(ImActorModelModulesMessages *outer$) {
  ImActorModelModulesMessages_$7 *self = [ImActorModelModulesMessages_$7 alloc];
  ImActorModelModulesMessages_$7_initWithImActorModelModulesMessages_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$7)

@implementation ImActorModelModulesMessages_$8

- (ImActorModelModulesMessagesConversationActor *)create {
  return new_ImActorModelModulesMessagesConversationActor_initWithAMPeer_withImActorModelModulesModules_(val$peer_, [this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0 {
  ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$8 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  self->this$0_ = outer$;
  self->val$peer_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$8 *new_ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  ImActorModelModulesMessages_$8 *self = [ImActorModelModulesMessages_$8 alloc];
  ImActorModelModulesMessages_$8_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$8)

@implementation ImActorModelModulesMessages_$9

- (ImActorModelModulesMessagesConversationHistoryActor *)create {
  return new_ImActorModelModulesMessagesConversationHistoryActor_initWithAMPeer_withImActorModelModulesModules_(val$peer_, [this$0_ modules]);
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0 {
  ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$9 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  self->this$0_ = outer$;
  self->val$peer_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$9 *new_ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  ImActorModelModulesMessages_$9 *self = [ImActorModelModulesMessages_$9 alloc];
  ImActorModelModulesMessages_$9_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$9)

@implementation ImActorModelModulesMessages_$10

- (void)startWithAMCommandCallback:(id<AMCommandCallback>)callback {
  ImActorModelApiOutPeer *outPeer;
  ImActorModelApiPeer *apiPeer;
  if ([((AMPeer *) nil_chk(val$peer_)) getPeerType] == AMPeerTypeEnum_get_PRIVATE()) {
    AMUser *user = [((id<DKKeyValueEngine>) nil_chk([this$0_ users])) getValueWithLong:[val$peer_ getPeerId]];
    if (user == nil) {
      [this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(callback)];
      return;
    }
    outPeer = new_ImActorModelApiOutPeer_initWithImActorModelApiPeerTypeEnum_withInt_withLong_(ImActorModelApiPeerTypeEnum_get_PRIVATE(), [((AMUser *) nil_chk(user)) getUid], [user getAccessHash]);
    apiPeer = new_ImActorModelApiPeer_initWithImActorModelApiPeerTypeEnum_withInt_(ImActorModelApiPeerTypeEnum_get_PRIVATE(), [user getUid]);
  }
  else if ([val$peer_ getPeerType] == AMPeerTypeEnum_get_GROUP()) {
    AMGroup *group = [((id<DKKeyValueEngine>) nil_chk([this$0_ groups])) getValueWithLong:[val$peer_ getPeerId]];
    if (group == nil) {
      [this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(callback)];
      return;
    }
    outPeer = new_ImActorModelApiOutPeer_initWithImActorModelApiPeerTypeEnum_withInt_withLong_(ImActorModelApiPeerTypeEnum_get_GROUP(), [((AMGroup *) nil_chk(group)) getGroupId], [group getAccessHash]);
    apiPeer = new_ImActorModelApiPeer_initWithImActorModelApiPeerTypeEnum_withInt_(ImActorModelApiPeerTypeEnum_get_GROUP(), [group getGroupId]);
  }
  else {
    [this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(callback)];
    return;
  }
  [this$0_ requestWithImActorModelNetworkParserRequest:new_ImActorModelApiRpcRequestDeleteChat_initWithImActorModelApiOutPeer_(outPeer) withAMRpcCallback:new_ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(self, apiPeer, callback)];
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0 {
  ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$10 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  self->this$0_ = outer$;
  self->val$peer_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10 *new_ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  ImActorModelModulesMessages_$10 *self = [ImActorModelModulesMessages_$10 alloc];
  ImActorModelModulesMessages_$10_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10)

@implementation ImActorModelModulesMessages_$10_$1

- (void)run {
  [((id<AMCommandCallback>) nil_chk(val$callback_)) onErrorWithJavaLangException:new_AMRpcInternalException_init()];
}

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0 {
  ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(ImActorModelModulesMessages_$10_$1 *self, id<AMCommandCallback> capture$0) {
  self->val$callback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10_$1 *new_ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) {
  ImActorModelModulesMessages_$10_$1 *self = [ImActorModelModulesMessages_$10_$1 alloc];
  ImActorModelModulesMessages_$10_$1_initWithAMCommandCallback_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10_$1)

@implementation ImActorModelModulesMessages_$10_$2

- (void)run {
  [((id<AMCommandCallback>) nil_chk(val$callback_)) onErrorWithJavaLangException:new_AMRpcInternalException_init()];
}

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0 {
  ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(ImActorModelModulesMessages_$10_$2 *self, id<AMCommandCallback> capture$0) {
  self->val$callback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10_$2 *new_ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) {
  ImActorModelModulesMessages_$10_$2 *self = [ImActorModelModulesMessages_$10_$2 alloc];
  ImActorModelModulesMessages_$10_$2_initWithAMCommandCallback_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10_$2)

@implementation ImActorModelModulesMessages_$10_$3

- (void)run {
  [((id<AMCommandCallback>) nil_chk(val$callback_)) onErrorWithJavaLangException:new_AMRpcInternalException_init()];
}

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0 {
  ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(ImActorModelModulesMessages_$10_$3 *self, id<AMCommandCallback> capture$0) {
  self->val$callback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10_$3 *new_ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) {
  ImActorModelModulesMessages_$10_$3 *self = [ImActorModelModulesMessages_$10_$3 alloc];
  ImActorModelModulesMessages_$10_$3_initWithAMCommandCallback_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10_$3)

@implementation ImActorModelModulesMessages_$10_$4

- (void)onResultWithImActorModelNetworkParserResponse:(ImActorModelApiRpcResponseSeq *)response {
  [((ImActorModelModulesUpdates *) nil_chk([this$0_->this$0_ updates])) onUpdateReceivedWithId:new_ImActorModelApiBaseSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_([((ImActorModelApiRpcResponseSeq *) nil_chk(response)) getSeq], [response getState], ImActorModelApiUpdatesUpdateChatDelete_HEADER, [new_ImActorModelApiUpdatesUpdateChatDelete_initWithImActorModelApiPeer_(val$apiPeer_) toByteArray])];
  [this$0_->this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(self)];
}

- (void)onErrorWithAMRpcException:(AMRpcException *)e {
  [this$0_->this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(self, e)];
}

- (instancetype)initWithImActorModelModulesMessages_$10:(ImActorModelModulesMessages_$10 *)outer$
                                withImActorModelApiPeer:(ImActorModelApiPeer *)capture$0
                                  withAMCommandCallback:(id<AMCommandCallback>)capture$1 {
  ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(self, outer$, capture$0, capture$1);
  return self;
}

@end

void ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$10_$4 *self, ImActorModelModulesMessages_$10 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1) {
  self->this$0_ = outer$;
  self->val$apiPeer_ = capture$0;
  self->val$callback_ = capture$1;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10_$4 *new_ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$10 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1) {
  ImActorModelModulesMessages_$10_$4 *self = [ImActorModelModulesMessages_$10_$4 alloc];
  ImActorModelModulesMessages_$10_$4_initWithImActorModelModulesMessages_$10_withImActorModelApiPeer_withAMCommandCallback_(self, outer$, capture$0, capture$1);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10_$4)

@implementation ImActorModelModulesMessages_$10_$4_$1

- (void)run {
  [((id<AMCommandCallback>) nil_chk(this$0_->val$callback_)) onResultWithId:JavaLangBoolean_valueOfWithBoolean_(YES)];
}

- (instancetype)initWithImActorModelModulesMessages_$10_$4:(ImActorModelModulesMessages_$10_$4 *)outer$ {
  ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(ImActorModelModulesMessages_$10_$4_$1 *self, ImActorModelModulesMessages_$10_$4 *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10_$4_$1 *new_ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(ImActorModelModulesMessages_$10_$4 *outer$) {
  ImActorModelModulesMessages_$10_$4_$1 *self = [ImActorModelModulesMessages_$10_$4_$1 alloc];
  ImActorModelModulesMessages_$10_$4_$1_initWithImActorModelModulesMessages_$10_$4_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10_$4_$1)

@implementation ImActorModelModulesMessages_$10_$4_$2

- (void)run {
  [((id<AMCommandCallback>) nil_chk(this$0_->val$callback_)) onErrorWithJavaLangException:val$e_];
}

- (instancetype)initWithImActorModelModulesMessages_$10_$4:(ImActorModelModulesMessages_$10_$4 *)outer$
                                        withAMRpcException:(AMRpcException *)capture$0 {
  ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(ImActorModelModulesMessages_$10_$4_$2 *self, ImActorModelModulesMessages_$10_$4 *outer$, AMRpcException *capture$0) {
  self->this$0_ = outer$;
  self->val$e_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$10_$4_$2 *new_ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(ImActorModelModulesMessages_$10_$4 *outer$, AMRpcException *capture$0) {
  ImActorModelModulesMessages_$10_$4_$2 *self = [ImActorModelModulesMessages_$10_$4_$2 alloc];
  ImActorModelModulesMessages_$10_$4_$2_initWithImActorModelModulesMessages_$10_$4_withAMRpcException_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$10_$4_$2)

@implementation ImActorModelModulesMessages_$11

- (void)startWithAMCommandCallback:(id<AMCommandCallback>)callback {
  ImActorModelApiOutPeer *outPeer;
  ImActorModelApiPeer *apiPeer;
  if ([((AMPeer *) nil_chk(val$peer_)) getPeerType] == AMPeerTypeEnum_get_PRIVATE()) {
    AMUser *user = [((id<DKKeyValueEngine>) nil_chk([this$0_ users])) getValueWithLong:[val$peer_ getPeerId]];
    if (user == nil) {
      [this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(callback)];
      return;
    }
    outPeer = new_ImActorModelApiOutPeer_initWithImActorModelApiPeerTypeEnum_withInt_withLong_(ImActorModelApiPeerTypeEnum_get_PRIVATE(), [((AMUser *) nil_chk(user)) getUid], [user getAccessHash]);
    apiPeer = new_ImActorModelApiPeer_initWithImActorModelApiPeerTypeEnum_withInt_(ImActorModelApiPeerTypeEnum_get_PRIVATE(), [user getUid]);
  }
  else if ([val$peer_ getPeerType] == AMPeerTypeEnum_get_GROUP()) {
    AMGroup *group = [((id<DKKeyValueEngine>) nil_chk([this$0_ groups])) getValueWithLong:[val$peer_ getPeerId]];
    if (group == nil) {
      [this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(callback)];
      return;
    }
    outPeer = new_ImActorModelApiOutPeer_initWithImActorModelApiPeerTypeEnum_withInt_withLong_(ImActorModelApiPeerTypeEnum_get_GROUP(), [((AMGroup *) nil_chk(group)) getGroupId], [group getAccessHash]);
    apiPeer = new_ImActorModelApiPeer_initWithImActorModelApiPeerTypeEnum_withInt_(ImActorModelApiPeerTypeEnum_get_GROUP(), [group getGroupId]);
  }
  else {
    [this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(callback)];
    return;
  }
  [this$0_ requestWithImActorModelNetworkParserRequest:new_ImActorModelApiRpcRequestClearChat_initWithImActorModelApiOutPeer_(outPeer) withAMRpcCallback:new_ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(self, apiPeer, callback)];
}

- (instancetype)initWithImActorModelModulesMessages:(ImActorModelModulesMessages *)outer$
                                         withAMPeer:(AMPeer *)capture$0 {
  ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages_$11 *self, ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  self->this$0_ = outer$;
  self->val$peer_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11 *new_ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(ImActorModelModulesMessages *outer$, AMPeer *capture$0) {
  ImActorModelModulesMessages_$11 *self = [ImActorModelModulesMessages_$11 alloc];
  ImActorModelModulesMessages_$11_initWithImActorModelModulesMessages_withAMPeer_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11)

@implementation ImActorModelModulesMessages_$11_$1

- (void)run {
  [((id<AMCommandCallback>) nil_chk(val$callback_)) onErrorWithJavaLangException:new_AMRpcInternalException_init()];
}

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0 {
  ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(ImActorModelModulesMessages_$11_$1 *self, id<AMCommandCallback> capture$0) {
  self->val$callback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11_$1 *new_ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) {
  ImActorModelModulesMessages_$11_$1 *self = [ImActorModelModulesMessages_$11_$1 alloc];
  ImActorModelModulesMessages_$11_$1_initWithAMCommandCallback_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11_$1)

@implementation ImActorModelModulesMessages_$11_$2

- (void)run {
  [((id<AMCommandCallback>) nil_chk(val$callback_)) onErrorWithJavaLangException:new_AMRpcInternalException_init()];
}

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0 {
  ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(ImActorModelModulesMessages_$11_$2 *self, id<AMCommandCallback> capture$0) {
  self->val$callback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11_$2 *new_ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) {
  ImActorModelModulesMessages_$11_$2 *self = [ImActorModelModulesMessages_$11_$2 alloc];
  ImActorModelModulesMessages_$11_$2_initWithAMCommandCallback_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11_$2)

@implementation ImActorModelModulesMessages_$11_$3

- (void)run {
  [((id<AMCommandCallback>) nil_chk(val$callback_)) onErrorWithJavaLangException:new_AMRpcInternalException_init()];
}

- (instancetype)initWithAMCommandCallback:(id<AMCommandCallback>)capture$0 {
  ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(ImActorModelModulesMessages_$11_$3 *self, id<AMCommandCallback> capture$0) {
  self->val$callback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11_$3 *new_ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(id<AMCommandCallback> capture$0) {
  ImActorModelModulesMessages_$11_$3 *self = [ImActorModelModulesMessages_$11_$3 alloc];
  ImActorModelModulesMessages_$11_$3_initWithAMCommandCallback_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11_$3)

@implementation ImActorModelModulesMessages_$11_$4

- (void)onResultWithImActorModelNetworkParserResponse:(ImActorModelApiRpcResponseSeq *)response {
  [((ImActorModelModulesUpdates *) nil_chk([this$0_->this$0_ updates])) onUpdateReceivedWithId:new_ImActorModelApiBaseSeqUpdate_initWithInt_withByteArray_withInt_withByteArray_([((ImActorModelApiRpcResponseSeq *) nil_chk(response)) getSeq], [response getState], ImActorModelApiUpdatesUpdateChatClear_HEADER, [new_ImActorModelApiUpdatesUpdateChatClear_initWithImActorModelApiPeer_(val$apiPeer_) toByteArray])];
  [this$0_->this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(self)];
}

- (void)onErrorWithAMRpcException:(AMRpcException *)e {
  [this$0_->this$0_ runOnUiThreadWithJavaLangRunnable:new_ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(self, e)];
}

- (instancetype)initWithImActorModelModulesMessages_$11:(ImActorModelModulesMessages_$11 *)outer$
                                withImActorModelApiPeer:(ImActorModelApiPeer *)capture$0
                                  withAMCommandCallback:(id<AMCommandCallback>)capture$1 {
  ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(self, outer$, capture$0, capture$1);
  return self;
}

@end

void ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$11_$4 *self, ImActorModelModulesMessages_$11 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1) {
  self->this$0_ = outer$;
  self->val$apiPeer_ = capture$0;
  self->val$callback_ = capture$1;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11_$4 *new_ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(ImActorModelModulesMessages_$11 *outer$, ImActorModelApiPeer *capture$0, id<AMCommandCallback> capture$1) {
  ImActorModelModulesMessages_$11_$4 *self = [ImActorModelModulesMessages_$11_$4 alloc];
  ImActorModelModulesMessages_$11_$4_initWithImActorModelModulesMessages_$11_withImActorModelApiPeer_withAMCommandCallback_(self, outer$, capture$0, capture$1);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11_$4)

@implementation ImActorModelModulesMessages_$11_$4_$1

- (void)run {
  [((id<AMCommandCallback>) nil_chk(this$0_->val$callback_)) onResultWithId:JavaLangBoolean_valueOfWithBoolean_(YES)];
}

- (instancetype)initWithImActorModelModulesMessages_$11_$4:(ImActorModelModulesMessages_$11_$4 *)outer$ {
  ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(self, outer$);
  return self;
}

@end

void ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(ImActorModelModulesMessages_$11_$4_$1 *self, ImActorModelModulesMessages_$11_$4 *outer$) {
  self->this$0_ = outer$;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11_$4_$1 *new_ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(ImActorModelModulesMessages_$11_$4 *outer$) {
  ImActorModelModulesMessages_$11_$4_$1 *self = [ImActorModelModulesMessages_$11_$4_$1 alloc];
  ImActorModelModulesMessages_$11_$4_$1_initWithImActorModelModulesMessages_$11_$4_(self, outer$);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11_$4_$1)

@implementation ImActorModelModulesMessages_$11_$4_$2

- (void)run {
  [((id<AMCommandCallback>) nil_chk(this$0_->val$callback_)) onErrorWithJavaLangException:val$e_];
}

- (instancetype)initWithImActorModelModulesMessages_$11_$4:(ImActorModelModulesMessages_$11_$4 *)outer$
                                        withAMRpcException:(AMRpcException *)capture$0 {
  ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(ImActorModelModulesMessages_$11_$4_$2 *self, ImActorModelModulesMessages_$11_$4 *outer$, AMRpcException *capture$0) {
  self->this$0_ = outer$;
  self->val$e_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesMessages_$11_$4_$2 *new_ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(ImActorModelModulesMessages_$11_$4 *outer$, AMRpcException *capture$0) {
  ImActorModelModulesMessages_$11_$4_$2 *self = [ImActorModelModulesMessages_$11_$4_$2 alloc];
  ImActorModelModulesMessages_$11_$4_$2_initWithImActorModelModulesMessages_$11_$4_withAMRpcException_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesMessages_$11_$4_$2)
