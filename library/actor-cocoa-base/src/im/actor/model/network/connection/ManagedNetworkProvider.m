//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/network/connection/ManagedNetworkProvider.java
//


#line 1 "/Users/ex3ndr/Develop/actor-model/library/actor-cocoa-base/build/java/im/actor/model/network/connection/ManagedNetworkProvider.java"

#include "J2ObjC_source.h"
#include "im/actor/model/network/ConnectionCallback.h"
#include "im/actor/model/network/ConnectionEndpoint.h"
#include "im/actor/model/network/CreateConnectionCallback.h"
#include "im/actor/model/network/connection/AsyncConnectionFactory.h"
#include "im/actor/model/network/connection/ManagedConnection.h"
#include "im/actor/model/network/connection/ManagedConnectionCreateCallback.h"
#include "im/actor/model/network/connection/ManagedNetworkProvider.h"
#include "java/util/ArrayList.h"

@interface ImActorModelNetworkConnectionManagedNetworkProvider () {
 @public
  id<ImActorModelNetworkConnectionAsyncConnectionFactory> factory_;
  JavaUtilArrayList *pendingConnections_;
}

@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkConnectionManagedNetworkProvider, factory_, id<ImActorModelNetworkConnectionAsyncConnectionFactory>)
J2OBJC_FIELD_SETTER(ImActorModelNetworkConnectionManagedNetworkProvider, pendingConnections_, JavaUtilArrayList *)

@interface ImActorModelNetworkConnectionManagedNetworkProvider_$1 : NSObject < ImActorModelNetworkConnectionManagedConnectionCreateCallback > {
 @public
  ImActorModelNetworkConnectionManagedNetworkProvider *this$0_;
  id<AMCreateConnectionCallback> val$createCallback_;
}

- (void)onConnectionCreatedWithImActorModelNetworkConnectionManagedConnection:(ImActorModelNetworkConnectionManagedConnection *)connection;

- (void)onConnectionCreateErrorWithImActorModelNetworkConnectionManagedConnection:(ImActorModelNetworkConnectionManagedConnection *)connection;

- (instancetype)initWithImActorModelNetworkConnectionManagedNetworkProvider:(ImActorModelNetworkConnectionManagedNetworkProvider *)outer$
                                             withAMCreateConnectionCallback:(id<AMCreateConnectionCallback>)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelNetworkConnectionManagedNetworkProvider_$1)

J2OBJC_FIELD_SETTER(ImActorModelNetworkConnectionManagedNetworkProvider_$1, this$0_, ImActorModelNetworkConnectionManagedNetworkProvider *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkConnectionManagedNetworkProvider_$1, val$createCallback_, id<AMCreateConnectionCallback>)

__attribute__((unused)) static void ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(ImActorModelNetworkConnectionManagedNetworkProvider_$1 *self, ImActorModelNetworkConnectionManagedNetworkProvider *outer$, id<AMCreateConnectionCallback> capture$0);

__attribute__((unused)) static ImActorModelNetworkConnectionManagedNetworkProvider_$1 *new_ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(ImActorModelNetworkConnectionManagedNetworkProvider *outer$, id<AMCreateConnectionCallback> capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelNetworkConnectionManagedNetworkProvider_$1)


#line 13
@implementation ImActorModelNetworkConnectionManagedNetworkProvider


#line 19
- (instancetype)initWithImActorModelNetworkConnectionAsyncConnectionFactory:(id<ImActorModelNetworkConnectionAsyncConnectionFactory>)factory {
  ImActorModelNetworkConnectionManagedNetworkProvider_initWithImActorModelNetworkConnectionAsyncConnectionFactory_(self, factory);
  return self;
}

- (void)createConnection:(jint)connectionId
      withMTProtoVersion:(jint)mtprotoVersion
     withApiMajorVersion:(jint)apiMajorVersion
     withApiMinorVersion:(jint)apiMinorVersion
            withEndpoint:(AMConnectionEndpoint *)endpoint
            withCallback:(id<AMConnectionCallback>)callback
      withCreateCallback:(id<AMCreateConnectionCallback>)createCallback {
  ImActorModelNetworkConnectionManagedConnection *managedConnection = new_ImActorModelNetworkConnectionManagedConnection_initWithInt_withInt_withInt_withInt_withAMConnectionEndpoint_withAMConnectionCallback_withImActorModelNetworkConnectionManagedConnectionCreateCallback_withImActorModelNetworkConnectionAsyncConnectionFactory_(connectionId, mtprotoVersion,
#line 26
  apiMajorVersion, apiMinorVersion, endpoint, callback, new_ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(self, createCallback),
#line 42
  factory_);
  @synchronized(pendingConnections_) {
    [((JavaUtilArrayList *) nil_chk(pendingConnections_)) addWithId:managedConnection];
  }
}

@end


#line 19
void ImActorModelNetworkConnectionManagedNetworkProvider_initWithImActorModelNetworkConnectionAsyncConnectionFactory_(ImActorModelNetworkConnectionManagedNetworkProvider *self, id<ImActorModelNetworkConnectionAsyncConnectionFactory> factory) {
  (void) NSObject_init(self);
  self->pendingConnections_ = new_JavaUtilArrayList_init();
  
#line 20
  self->factory_ = factory;
}


#line 19
ImActorModelNetworkConnectionManagedNetworkProvider *new_ImActorModelNetworkConnectionManagedNetworkProvider_initWithImActorModelNetworkConnectionAsyncConnectionFactory_(id<ImActorModelNetworkConnectionAsyncConnectionFactory> factory) {
  ImActorModelNetworkConnectionManagedNetworkProvider *self = [ImActorModelNetworkConnectionManagedNetworkProvider alloc];
  ImActorModelNetworkConnectionManagedNetworkProvider_initWithImActorModelNetworkConnectionAsyncConnectionFactory_(self, factory);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkConnectionManagedNetworkProvider)

@implementation ImActorModelNetworkConnectionManagedNetworkProvider_$1


#line 28
- (void)onConnectionCreatedWithImActorModelNetworkConnectionManagedConnection:(ImActorModelNetworkConnectionManagedConnection *)connection {
  [((id<AMCreateConnectionCallback>) nil_chk(val$createCallback_)) onConnectionCreated:connection];
  @synchronized(this$0_->pendingConnections_) {
    [((JavaUtilArrayList *) nil_chk(this$0_->pendingConnections_)) removeWithId:connection];
  }
}


#line 36
- (void)onConnectionCreateErrorWithImActorModelNetworkConnectionManagedConnection:(ImActorModelNetworkConnectionManagedConnection *)connection {
  [((id<AMCreateConnectionCallback>) nil_chk(val$createCallback_)) onConnectionCreateError];
  @synchronized(this$0_->pendingConnections_) {
    [((JavaUtilArrayList *) nil_chk(this$0_->pendingConnections_)) removeWithId:connection];
  }
}

- (instancetype)initWithImActorModelNetworkConnectionManagedNetworkProvider:(ImActorModelNetworkConnectionManagedNetworkProvider *)outer$
                                             withAMCreateConnectionCallback:(id<AMCreateConnectionCallback>)capture$0 {
  ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(self, outer$, capture$0);
  return self;
}

@end

void ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(ImActorModelNetworkConnectionManagedNetworkProvider_$1 *self, ImActorModelNetworkConnectionManagedNetworkProvider *outer$, id<AMCreateConnectionCallback> capture$0) {
  self->this$0_ = outer$;
  self->val$createCallback_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelNetworkConnectionManagedNetworkProvider_$1 *new_ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(ImActorModelNetworkConnectionManagedNetworkProvider *outer$, id<AMCreateConnectionCallback> capture$0) {
  ImActorModelNetworkConnectionManagedNetworkProvider_$1 *self = [ImActorModelNetworkConnectionManagedNetworkProvider_$1 alloc];
  ImActorModelNetworkConnectionManagedNetworkProvider_$1_initWithImActorModelNetworkConnectionManagedNetworkProvider_withAMCreateConnectionCallback_(self, outer$, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkConnectionManagedNetworkProvider_$1)
