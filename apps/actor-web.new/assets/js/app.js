angular.module('actorWeb', ['ui.router', 'ngMaterial', 'ngStorage', 'luegg.directives']);

var ActorConfig;

ActorConfig = (function() {
  function ActorConfig($stateProvider, $urlRouterProvider) {
    $stateProvider.state('home', {
      url: '/',
      views: {
        'sidebar': {
          templateUrl: 'app/shared/sidebar/sidebarDefaultView.html'
        },
        'toolbar': {
          templateUrl: 'app/shared/toolbar/toolbarDefaultView.html'
        },
        'content': {
          templateUrl: 'app/shared/messages/messagesListView.html'
        },
        'compose': {
          templateUrl: 'app/shared/compose/copmoseView.html'
        }
      }
    }).state('login', {
      url: '/login',
      data: {
        noLogin: true
      },
      views: {
        'content': {
          templateUrl: 'app/components/login/loginView.html'
        }
      }
    });
    $urlRouterProvider.otherwise('/');
  }

  return ActorConfig;

})();

ActorConfig.$inject = ['$stateProvider', '$urlRouterProvider'];

angular.module('actorWeb').config(ActorConfig);

var ActorRun;

ActorRun = (function() {
  function ActorRun($rootScope, $state, $stateParams, actorService) {
    console.log('[AW]Run');
    $rootScope.$state = $state;
    $rootScope.$stateParams = $stateParams;
    $rootScope.isLoggedIn = null;
    $rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {
      return actorService.checkAccess(event, toState, toParams, fromState, fromParams);
    });
  }

  return ActorRun;

})();

ActorRun.$inject = ['$rootScope', '$state', '$stateParams', 'actorService'];

angular.module('actorWeb').run(ActorRun);

var ActorService,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ActorService = (function() {
  ActorService.prototype.messenger = null;

  ActorService.prototype.currentPeer = null;

  ActorService.prototype.isLoggedIn = false;

  function ActorService($rootScope, $sessionStorage) {
    this.$rootScope = $rootScope;
    this.$sessionStorage = $sessionStorage;
    this.setLoggedOut = bind(this.setLoggedOut, this);
    this.setLoggedIn = bind(this.setLoggedIn, this);
    console.log('[AW]ActorService constructor');
    window.jsAppLoaded = (function(_this) {
      return function() {
        _this.initActor();
        console.log('[AW]ActorService $broadcast: actorReady');
        return _this.$rootScope.$broadcast('actorReady');
      };
    })(this);
  }

  ActorService.prototype.initActor = function() {
    console.log('[AW]ActorService initActor');
    this.messenger = new actor.ActorApp;
    this.isLoggedIn = this.messenger.isLoggedIn();
    console.log('[AW]ActorService initActor: @isLoggedIn:', this.isLoggedIn);
    if (this.isLoggedIn) {
      return this.setLoggedIn();
    }
  };

  ActorService.prototype.checkAccess = function(event, toState, toParams, fromState, fromParams) {
    console.log('[AW]ActorService checkAccess');
    if (toState.data !== void 0) {
      if (toState.data.noLogin !== void 0 && toState.data.noLogin) {
        console.log('[AW]ActorService checkAccess: before login');
      }
    } else {
      if (this.$sessionStorage.isLoggedIn) {
        console.log('[AW]ActorService checkAccess: authenticated');
        return this.$rootScope.isLoggedIn = this.$sessionStorage.isLoggedIn;
      } else {
        console.log('[AW]ActorService checkAccess: redirect to login');
        event.preventDefault();
        return this.$rootScope.$state.go('login');
      }
    }
  };

  ActorService.prototype.setLoggedIn = function() {
    console.log('[AW]ActorService setLoggedIn');
    this.isLoggedIn = true;
    this.$rootScope.isLoggedIn = true;
    this.$sessionStorage.isLoggedIn = true;
    this.$rootScope.$state.go('home');
    return this.$rootScope.$broadcast('actorLoggedIn');
  };

  ActorService.prototype.setLoggedOut = function() {
    console.log('[AW]ActorService setLoggedOut');
    this.isLoggedIn = false;
    this.$rootScope.isLoggedIn = false;
    this.$sessionStorage.isLoggedIn = false;
    this.$rootScope.$state.go('login');
    return this.$rootScope.$broadcast('actorLoggedOut');
  };

  ActorService.prototype.requestSms = function(phone) {
    console.log('[AW]ActorService requestSms');
    return this.messenger.requestSms(phone.toString(), function(state) {
      return console.log('[AW]ActorService requestSms: state:', state);
    }, function(tag, message, canTryAgain, state) {
      return console.log('[AW]ActorService requestSms: error');
    });
  };

  ActorService.prototype.sendCode = function(code) {
    console.log('[AW]ActorService sendCode');
    return this.messenger.sendCode(code, (function(_this) {
      return function(state) {
        console.log('[AW]ActorService sendCode: state:', state);
        if (state === 'logged_in') {
          return _this.setLoggedIn();
        }
      };
    })(this), function(tag, message, canTryAgain, state) {
      return console.log('[AW]ActorService sendCode: error');
    });
  };

  ActorService.prototype.bindDialogs = function(callback) {
    console.log('[AW]ActorService getDialogs');
    return this.messenger.bindDialogs(function(items) {
      console.log('[AW]ActorService getDialogs: items', items);
      return callback(items);
    });
  };

  ActorService.prototype.closeConversation = function(peer) {
    console.log('[AW]ActorService closeConversation');
    console.log('[AW]ActorService closeConversation: peer:', peer);
    this.messenger.onConversationClosed(peer);
    return this.$rootScope.$broadcast('closeConversation', peer);
  };

  ActorService.prototype.openConversation = function(peer) {
    console.log('[AW]ActorService openConversation');
    console.log('[AW]ActorService openConversation: peer:', peer);
    this.setCurrentPeer(peer);
    this.messenger.onConversationOpen(peer);
    return this.$rootScope.$broadcast('openConversation', peer);
  };

  ActorService.prototype.bindChat = function(peer, callback) {
    console.log('[AW]ActorService bindChat');
    console.log('[AW]ActorService bindChat: peer:', peer);
    return this.messenger.bindChat(peer, callback);
  };

  ActorService.prototype.setCurrentPeer = function(peer) {
    console.log('[AW]ActorService setCurrentPeer');
    console.log('[AW]ActorService setCurrentPeer: peer:', peer);
    return this.currentPeer = peer;
  };

  ActorService.prototype.onTyping = function() {
    console.log('[AW]ActorService onTyping');
    return this.messenger.onTyping(this.currentPeer);
  };

  ActorService.prototype.sendMessage = function(peer, message) {
    console.log('[AW]ActorService sendMessage');
    console.log('[AW]ActorService sendMessage: message:', message);
    console.log('[AW]ActorService sendMessage: peer:', peer);
    return this.messenger.sendMessage(peer, message);
  };

  return ActorService;

})();

ActorService.$inject = ['$rootScope', '$sessionStorage'];

angular.module('actorWeb').service('actorService', ActorService);

var LoginController;

LoginController = (function() {
  LoginController.prototype.isCodeRequested = false;

  function LoginController($rootScope, actorService) {
    this.$rootScope = $rootScope;
    this.actorService = actorService;
    console.log('[AW]LoginController constructor');
    if (this.actorService.isLoggedIn) {
      this.$rootScope.$state.go('home');
    }
  }

  LoginController.prototype.requestCode = function(phone) {
    console.log('[AW]LoginController requestCode');
    this.actorService.requestSms(phone);
    return this.isCodeRequested = true;
  };

  LoginController.prototype.checkCode = function(code) {
    console.log('[AW]LoginController checkCode');
    return this.actorService.sendCode(code);
  };

  return LoginController;

})();

LoginController.$inject = ['$rootScope', 'actorService'];

angular.module('actorWeb').controller('loginController', LoginController);

var MainController;

MainController = (function() {
  function MainController($mdSidenav, $mdMedia, actorService) {
    this.$mdSidenav = $mdSidenav;
    this.$mdMedia = $mdMedia;
    this.actorService = actorService;
    console.log('[AW]MainController constructor');
  }

  MainController.prototype.showCompose = function() {
    return console.log('[AW]MainController showCompose');
  };

  MainController.prototype.openSidebar = function() {
    console.log('[AW]MainController openSidebar');
    return this.$mdSidenav('left').toggle();
  };

  return MainController;

})();

MainController.$inject = ['$mdSidenav', '$mdMedia', 'actorService'];

angular.module('actorWeb').controller('mainController', MainController);

var ChatsController,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ChatsController = (function() {
  ChatsController.prototype.list = void 0;

  function ChatsController($scope, $rootScope, $timeout, actorService) {
    this.$scope = $scope;
    this.$rootScope = $rootScope;
    this.$timeout = $timeout;
    this.actorService = actorService;
    this.renderConversations = bind(this.renderConversations, this);
    console.log('[AW]ChatsController constructor');
    if (this.actorService.isLoggedIn) {
      console.log('[AW]ChatsController constructor: getConversations() if @actorService.isLoggedIn.');
      this.getConversations();
    }
    this.$rootScope.$on('actorReady', (function(_this) {
      return function() {
        console.log('[AW]ChatsController constructor: actorReady fired.');
        return _this.getConversations();
      };
    })(this));
  }

  ChatsController.prototype.getConversations = function() {
    console.log('[AW]ChatsController getChats');
    return this.actorService.bindDialogs((function(_this) {
      return function(items) {
        return _this.renderConversations(items);
      };
    })(this));
  };

  ChatsController.prototype.renderConversations = function(list) {
    console.log('[AW]MessagesController renderConversations');
    console.log('[AW]MessagesController renderConversations: list:', list);
    return this.$timeout((function(_this) {
      return function() {
        return _this.$scope.$apply(function(scope) {
          _this.scope = scope;
          _this.list = list;
          return _this.$rootScope.$broadcast('renderConversations');
        });
      };
    })(this));
  };

  ChatsController.prototype.selectChat = function(peer) {
    console.log('[AW]ChatsController selectChat');
    if (this.actorService.currentPeer) {
      this.actorService.closeConversation(this.actorService.currentPeer);
    }
    return this.actorService.openConversation(peer);
  };

  return ChatsController;

})();

ChatsController.$inject = ['$scope', '$rootScope', '$timeout', 'actorService'];

angular.module('actorWeb').controller('chatsController', ChatsController);

var ComposeController;

ComposeController = (function() {
  ComposeController.prototype.draft = null;

  ComposeController.prototype.message = null;

  ComposeController.prototype.isEnabled = false;

  function ComposeController($rootScope, actorService) {
    this.$rootScope = $rootScope;
    this.actorService = actorService;
    console.log('[AW]ComposeController constructor');
    this.$rootScope.$on('openConversation', (function(_this) {
      return function() {
        console.log('[AW]ComposeController constructor: openConversation fired.');
        return _this.enableCompose();
      };
    })(this));
  }

  ComposeController.prototype.enableCompose = function() {
    console.log('[AW]ComposeController enableCompose');
    return this.isEnabled = true;
  };

  ComposeController.prototype.onTyping = function() {
    console.log('[AW]ComposeController onTyping');
    return this.actorService.onTyping();
  };

  ComposeController.prototype.sendMessage = function() {
    console.log('[AW]ComposeController sendMessage');
    console.log('[AW]ComposeController sendMessage: @message:', this.message);
    console.log('[AW]ComposeController sendMessage: @draft:', this.draft);
    this.actorService.sendMessage(this.actorService.currentPeer, this.message);
    return this.message = null;
  };

  return ComposeController;

})();

ComposeController.$inject = ['$rootScope', 'actorService'];

angular.module('actorWeb').controller('composeController', ComposeController);

var EnterSubmit;

EnterSubmit = (function() {
  function EnterSubmit() {
    this.restrict = 'A';
  }

  EnterSubmit.prototype.link = function(scope, elem, attrs) {
    return elem.bind('keydown', function(event) {
      var code;
      code = event.keyCode || event.which;
      if (code === 13) {
        if (!event.shiftKey) {
          event.preventDefault();
          return scope.$apply(attrs.enterSubmit);
        }
      }
    });
  };

  return EnterSubmit;

})();

angular.module('actorWeb').directive('enterSubmit', function() {
  return new EnterSubmit;
});

var MessagesController,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

MessagesController = (function() {
  MessagesController.prototype.list = null;

  function MessagesController($scope, $rootScope, $timeout, actorService) {
    this.$scope = $scope;
    this.$rootScope = $rootScope;
    this.$timeout = $timeout;
    this.actorService = actorService;
    this.renderMessages = bind(this.renderMessages, this);
    console.log('[AW]MessagesController constructor');
    this.$rootScope.$on('openConversation', (function(_this) {
      return function(event, peer) {
        console.log('[AW]MessagesController constructor: openConversation fired.');
        return _this.getMessages(peer);
      };
    })(this));
  }

  MessagesController.prototype.getMessages = function(peer) {
    console.log('[AW]MessagesController getMessages');
    console.log('[AW]MessagesController getMessages: peer:', peer);
    return this.actorService.bindChat(peer, this.renderMessages);
  };

  MessagesController.prototype.renderMessages = function(messages) {
    console.log('[AW]MessagesController renderMessages');
    console.log('[AW]MessagesController renderMessages: messages:', messages);
    return this.$timeout((function(_this) {
      return function() {
        return _this.$scope.$apply(function(scope) {
          _this.scope = scope;
          _this.list = messages;
          return _this.$rootScope.$broadcast('renderMessages');
        });
      };
    })(this));
  };

  return MessagesController;

})();

MessagesController.$inject = ['$scope', '$rootScope', '$timeout', 'actorService'];

angular.module('actorWeb').controller('messagesController', MessagesController);



//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJhcHAuY29uZmlnLmNvZmZlZSIsImFwcC5ydW4uY29mZmVlIiwic2VydmljZXMvYWN0b3JTZXJ2aWNlLmNvZmZlZSIsImNvbXBvbmVudHMvbG9naW4vbG9naW5Db250cm9sbGVyLmNvZmZlZSIsImNvbXBvbmVudHMvbWFpbi9tYWluQ29udHJvbGxlci5jb2ZmZWUiLCJzaGFyZWQvY2hhdHMvY2hhdHNDb250cm9sbGVyLmNvZmZlZSIsInNoYXJlZC9jb21wb3NlL2NvbXBvc2VDb250cm9sbGVyLmNvZmZlZSIsInNoYXJlZC9jb21wb3NlL2NvbXBvc2VEaXJlY3RpdmUuY29mZmVlIiwic2hhcmVkL21lc3NhZ2VzL21lc3NhZ2VzQ29udHJvbGxlci5jb2ZmZWUiLCJzaGFyZWQvc2lkZWJhci9zaWRlYmFyQ29udHJvbGxlci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FDRSxDQUFDLE1BREgsQ0FDVSxVQURWLEVBQ3NCLENBQ2xCLFdBRGtCLEVBRWxCLFlBRmtCLEVBR2xCLFdBSGtCLEVBSWxCLGtCQUprQixDQUR0QixDQUFBLENBQUE7O0FDQUEsSUFBQSxXQUFBOztBQUFBO0FBQ2UsRUFBQSxxQkFBQyxjQUFELEVBQWlCLGtCQUFqQixHQUFBO0FBQ1gsSUFBQSxjQUNFLENBQUMsS0FESCxDQUNTLE1BRFQsRUFFSTtBQUFBLE1BQUEsR0FBQSxFQUFLLEdBQUw7QUFBQSxNQUNBLEtBQUEsRUFDRTtBQUFBLFFBQUEsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEsNENBQWI7U0FBWDtBQUFBLFFBQ0EsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEsNENBQWI7U0FEWDtBQUFBLFFBRUEsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEsMkNBQWI7U0FGWDtBQUFBLFFBR0EsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEscUNBQWI7U0FIWDtPQUZGO0tBRkosQ0FTRSxDQUFDLEtBVEgsQ0FTUyxP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LFVBRkgsQ0FFYyxvQkFGZCxFQUVvQyxrQkFGcEMsQ0F4QkEsQ0FBQTs7QUNBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyXG4gIC5tb2R1bGUgJ2FjdG9yV2ViJywgW1xuICAgICd1aS5yb3V0ZXInXG4gICAgJ25nTWF0ZXJpYWwnXG4gICAgJ25nU3RvcmFnZSdcbiAgICAnbHVlZ2cuZGlyZWN0aXZlcydcbiAgXVxuIiwiY2xhc3MgQWN0b3JDb25maWdcbiAgY29uc3RydWN0b3I6ICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSAtPlxuICAgICRzdGF0ZVByb3ZpZGVyXG4gICAgICAuc3RhdGUgJ2hvbWUnLFxuICAgICAgICB1cmw6ICcvJ1xuICAgICAgICB2aWV3czpcbiAgICAgICAgICAnc2lkZWJhcic6IHRlbXBsYXRlVXJsOiAnYXBwL3NoYXJlZC9zaWRlYmFyL3NpZGViYXJEZWZhdWx0Vmlldy5odG1sJ1xuICAgICAgICAgICd0b29sYmFyJzogdGVtcGxhdGVVcmw6ICdhcHAvc2hhcmVkL3Rvb2xiYXIvdG9vbGJhckRlZmF1bHRWaWV3Lmh0bWwnXG4gICAgICAgICAgJ2NvbnRlbnQnOiB0ZW1wbGF0ZVVybDogJ2FwcC9zaGFyZWQvbWVzc2FnZXMvbWVzc2FnZXNMaXN0Vmlldy5odG1sJ1xuICAgICAgICAgICdjb21wb3NlJzogdGVtcGxhdGVVcmw6ICdhcHAvc2hhcmVkL2NvbXBvc2UvY29wbW9zZVZpZXcuaHRtbCdcblxuICAgICAgLnN0YXRlICdsb2dpbicsXG4gICAgICAgIHVybDogJy9sb2dpbidcbiAgICAgICAgZGF0YTpcbiAgICAgICAgICBub0xvZ2luOiB0cnVlXG4gICAgICAgIHZpZXdzOlxuICAgICAgICAgICdjb250ZW50JzogdGVtcGxhdGVVcmw6ICdhcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpblZpZXcuaHRtbCdcblxuICAgICR1cmxSb3V0ZXJQcm92aWRlclxuICAgICAgLm90aGVyd2lzZSAnLydcblxuQWN0b3JDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ11cblxuYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYidcbiAgLmNvbmZpZyBBY3RvckNvbmZpZ1xuIiwiY2xhc3MgQWN0b3JSdW5cbiAgY29uc3RydWN0b3I6ICgkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddUnVuJ1xuICAgICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlXG4gICAgJHJvb3RTY29wZS4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXNcblxuICAgICRyb290U2NvcGUuaXNMb2dnZWRJbiA9IG51bGxcbiAgICAkcm9vdFNjb3BlLiRvbiAnJHN0YXRlQ2hhbmdlU3RhcnQnLCAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIC0+XG4gICAgICBhY3RvclNlcnZpY2UuY2hlY2tBY2Nlc3MoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpXG5cbkFjdG9yUnVuLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHN0YXRlJywgJyRzdGF0ZVBhcmFtcycsICdhY3RvclNlcnZpY2UnXVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUgJ2FjdG9yV2ViJ1xuICAucnVuIEFjdG9yUnVuXG4iLCJjbGFzcyBBY3RvclNlcnZpY2VcbiAgbWVzc2VuZ2VyOiBudWxsXG4gIGN1cnJlbnRQZWVyOiBudWxsXG4gICMgaXNSZWFkeTogZmFsc2VcbiAgaXNMb2dnZWRJbjogZmFsc2VcblxuICBjb25zdHJ1Y3RvcjogKEAkcm9vdFNjb3BlLCBAJHNlc3Npb25TdG9yYWdlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIGNvbnN0cnVjdG9yJ1xuICAgIHdpbmRvdy5qc0FwcExvYWRlZCA9ID0+XG4gICAgICBAaW5pdEFjdG9yKClcbiAgICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlICRicm9hZGNhc3Q6IGFjdG9yUmVhZHknXG4gICAgICBAJHJvb3RTY29wZS4kYnJvYWRjYXN0ICdhY3RvclJlYWR5J1xuXG4gIGluaXRBY3RvcjogLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBpbml0QWN0b3InXG4gICAgQG1lc3NlbmdlciA9IG5ldyBhY3Rvci5BY3RvckFwcFxuICAgICMgQGlzUmVhZHkgPSB0cnVlXG4gICAgQGlzTG9nZ2VkSW4gPSBAbWVzc2VuZ2VyLmlzTG9nZ2VkSW4oKVxuICAgICMgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgaW5pdEFjdG9yOiBAaXNSZWFkeScsIEBpc1JlYWR5XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgaW5pdEFjdG9yOiBAaXNMb2dnZWRJbjonLCBAaXNMb2dnZWRJblxuICAgIEBzZXRMb2dnZWRJbigpIGlmIEBpc0xvZ2dlZEluXG4gICAgIyBAdWlkID0gQG1lc3Nlbmdlci5nZXRVaWQoKVxuICAgICMgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgaW5pdEFjdG9yOiBAdWlkOicsIEB1aWRcblxuXG4gIGNoZWNrQWNjZXNzOiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgY2hlY2tBY2Nlc3MnXG4gICAgaWYgdG9TdGF0ZS5kYXRhICE9IHVuZGVmaW5lZFxuICAgICAgaWYgdG9TdGF0ZS5kYXRhLm5vTG9naW4gIT0gdW5kZWZpbmVkICYmIHRvU3RhdGUuZGF0YS5ub0xvZ2luXG4gICAgICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIGNoZWNrQWNjZXNzOiBiZWZvcmUgbG9naW4nXG4gICAgICAgIHJldHVyblxuICAgIGVsc2VcbiAgICAgIGlmIEAkc2Vzc2lvblN0b3JhZ2UuaXNMb2dnZWRJblxuICAgICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBjaGVja0FjY2VzczogYXV0aGVudGljYXRlZCdcbiAgICAgICAgQCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IEAkc2Vzc2lvblN0b3JhZ2UuaXNMb2dnZWRJblxuICAgICAgZWxzZVxuICAgICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBjaGVja0FjY2VzczogcmVkaXJlY3QgdG8gbG9naW4nXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgQCRyb290U2NvcGUuJHN0YXRlLmdvKCdsb2dpbicpXG5cbiAgc2V0TG9nZ2VkSW46ICgpID0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugc2V0TG9nZ2VkSW4nXG4gICAgQGlzTG9nZ2VkSW4gPSB0cnVlXG4gICAgQCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IHRydWVcbiAgICBAJHNlc3Npb25TdG9yYWdlLmlzTG9nZ2VkSW4gPSB0cnVlXG4gICAgQCRyb290U2NvcGUuJHN0YXRlLmdvICdob21lJ1xuICAgIEAkcm9vdFNjb3BlLiRicm9hZGNhc3QgJ2FjdG9yTG9nZ2VkSW4nXG5cbiAgc2V0TG9nZ2VkT3V0OiAoKSA9PlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNldExvZ2dlZE91dCdcbiAgICBAaXNMb2dnZWRJbiA9IGZhbHNlXG4gICAgQCRyb290U2NvcGUuaXNMb2dnZWRJbiA9IGZhbHNlXG4gICAgQCRzZXNzaW9uU3RvcmFnZS5pc0xvZ2dlZEluID0gZmFsc2VcbiAgICBAJHJvb3RTY29wZS4kc3RhdGUuZ28gJ2xvZ2luJ1xuICAgIEAkcm9vdFNjb3BlLiRicm9hZGNhc3QgJ2FjdG9yTG9nZ2VkT3V0J1xuXG4gIHJlcXVlc3RTbXM6IChwaG9uZSkgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSByZXF1ZXN0U21zJ1xuICAgIEBtZXNzZW5nZXIucmVxdWVzdFNtcyBwaG9uZS50b1N0cmluZygpLCAoc3RhdGUpIC0+XG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSByZXF1ZXN0U21zOiBzdGF0ZTonLCBzdGF0ZVxuICAgICwgKHRhZywgbWVzc2FnZSwgY2FuVHJ5QWdhaW4sIHN0YXRlKSAtPlxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgcmVxdWVzdFNtczogZXJyb3InXG5cbiAgc2VuZENvZGU6IChjb2RlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNlbmRDb2RlJ1xuICAgIEBtZXNzZW5nZXIuc2VuZENvZGUgY29kZSwgKHN0YXRlKSA9PlxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugc2VuZENvZGU6IHN0YXRlOicsIHN0YXRlXG4gICAgICBAc2V0TG9nZ2VkSW4oKSBpZiBzdGF0ZSA9PSAnbG9nZ2VkX2luJ1xuICAgICwgKHRhZywgbWVzc2FnZSwgY2FuVHJ5QWdhaW4sIHN0YXRlKSAtPlxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugc2VuZENvZGU6IGVycm9yJ1xuXG5cbiAgYmluZERpYWxvZ3M6IChjYWxsYmFjaykgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBnZXREaWFsb2dzJ1xuICAgIEBtZXNzZW5nZXIuYmluZERpYWxvZ3MgKGl0ZW1zKSAtPlxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgZ2V0RGlhbG9nczogaXRlbXMnLCBpdGVtc1xuICAgICAgY2FsbGJhY2sgaXRlbXNcblxuICBjbG9zZUNvbnZlcnNhdGlvbjogKHBlZXIpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgY2xvc2VDb252ZXJzYXRpb24nXG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgY2xvc2VDb252ZXJzYXRpb246IHBlZXI6JywgcGVlclxuICAgIEBtZXNzZW5nZXIub25Db252ZXJzYXRpb25DbG9zZWQgcGVlclxuICAgIEAkcm9vdFNjb3BlLiRicm9hZGNhc3QgJ2Nsb3NlQ29udmVyc2F0aW9uJywgcGVlclxuXG4gIG9wZW5Db252ZXJzYXRpb246IChwZWVyKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIG9wZW5Db252ZXJzYXRpb24nXG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugb3BlbkNvbnZlcnNhdGlvbjogcGVlcjonLCBwZWVyXG4gICAgQHNldEN1cnJlbnRQZWVyIHBlZXJcbiAgICBAbWVzc2VuZ2VyLm9uQ29udmVyc2F0aW9uT3BlbiBwZWVyXG4gICAgQCRyb290U2NvcGUuJGJyb2FkY2FzdCAnb3BlbkNvbnZlcnNhdGlvbicsIHBlZXJcblxuICBiaW5kQ2hhdDogKHBlZXIsIGNhbGxiYWNrKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIGJpbmRDaGF0J1xuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIGJpbmRDaGF0OiBwZWVyOicsIHBlZXJcbiAgICBAbWVzc2VuZ2VyLmJpbmRDaGF0IHBlZXIsIGNhbGxiYWNrXG5cbiAgc2V0Q3VycmVudFBlZXI6IChwZWVyKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNldEN1cnJlbnRQZWVyJ1xuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNldEN1cnJlbnRQZWVyOiBwZWVyOicsIHBlZXJcbiAgICBAY3VycmVudFBlZXIgPSBwZWVyXG5cbiAgb25UeXBpbmc6IC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugb25UeXBpbmcnXG4gICAgQG1lc3Nlbmdlci5vblR5cGluZyBAY3VycmVudFBlZXJcblxuICBzZW5kTWVzc2FnZTogKHBlZXIsIG1lc3NhZ2UpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugc2VuZE1lc3NhZ2UnXG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugc2VuZE1lc3NhZ2U6IG1lc3NhZ2U6JywgbWVzc2FnZVxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNlbmRNZXNzYWdlOiBwZWVyOicsIHBlZXJcbiAgICBAbWVzc2VuZ2VyLnNlbmRNZXNzYWdlIHBlZXIsIG1lc3NhZ2VcblxuXG5BY3RvclNlcnZpY2UuJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc2Vzc2lvblN0b3JhZ2UnXVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUgJ2FjdG9yV2ViJ1xuICAuc2VydmljZSAnYWN0b3JTZXJ2aWNlJywgQWN0b3JTZXJ2aWNlXG4iLCJjbGFzcyBMb2dpbkNvbnRyb2xsZXJcbiAgaXNDb2RlUmVxdWVzdGVkOiBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yOiAoQCRyb290U2NvcGUsIEBhY3RvclNlcnZpY2UpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11Mb2dpbkNvbnRyb2xsZXIgY29uc3RydWN0b3InXG4gICAgQCRyb290U2NvcGUuJHN0YXRlLmdvICdob21lJyBpZiBAYWN0b3JTZXJ2aWNlLmlzTG9nZ2VkSW5cblxuXG4gIHJlcXVlc3RDb2RlOiAocGhvbmUpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11Mb2dpbkNvbnRyb2xsZXIgcmVxdWVzdENvZGUnXG4gICAgQGFjdG9yU2VydmljZS5yZXF1ZXN0U21zIHBob25lXG4gICAgQGlzQ29kZVJlcXVlc3RlZCA9IHRydWVcblxuICBjaGVja0NvZGU6IChjb2RlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddTG9naW5Db250cm9sbGVyIGNoZWNrQ29kZSdcbiAgICBAYWN0b3JTZXJ2aWNlLnNlbmRDb2RlIGNvZGVcblxuTG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnYWN0b3JTZXJ2aWNlJ11cblxuYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYidcbiAgLmNvbnRyb2xsZXIgJ2xvZ2luQ29udHJvbGxlcicsIExvZ2luQ29udHJvbGxlclxuIiwiY2xhc3MgTWFpbkNvbnRyb2xsZXJcbiAgY29uc3RydWN0b3I6IChAJG1kU2lkZW5hdiwgQCRtZE1lZGlhLCBAYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddTWFpbkNvbnRyb2xsZXIgY29uc3RydWN0b3InXG5cbiAgc2hvd0NvbXBvc2U6IC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11NYWluQ29udHJvbGxlciBzaG93Q29tcG9zZSdcbiAgICAjIEAkbWRCb3R0b21TaGVldC5zaG93XG4gICAgIyAgIHRlbXBsYXRlVXJsOiAnYXBwL3NoYXJlZC9jb21wb3NlL2NvcG1vc2VWaWV3Lmh0bWwnXG4gICAgIyAgIHBhcmVudDogJyNjb250ZW50J1xuICAgICMgICBkaXNhYmxlUGFyZW50U2Nyb2xsOiBmYWxzZVxuXG4gIG9wZW5TaWRlYmFyOiAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddTWFpbkNvbnRyb2xsZXIgb3BlblNpZGViYXInXG4gICAgQCRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKVxuXG5NYWluQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbWRTaWRlbmF2JywgJyRtZE1lZGlhJywgJ2FjdG9yU2VydmljZSddXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSAnYWN0b3JXZWInXG4gIC5jb250cm9sbGVyICdtYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyXG4iLCJjbGFzcyBDaGF0c0NvbnRyb2xsZXJcbiAgbGlzdDogdW5kZWZpbmVkXG5cbiAgY29uc3RydWN0b3I6IChAJHNjb3BlLCBAJHJvb3RTY29wZSwgQCR0aW1lb3V0LCBAYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQ2hhdHNDb250cm9sbGVyIGNvbnN0cnVjdG9yJ1xuICAgIGlmIEBhY3RvclNlcnZpY2UuaXNMb2dnZWRJblxuICAgICAgY29uc29sZS5sb2cgJ1tBV11DaGF0c0NvbnRyb2xsZXIgY29uc3RydWN0b3I6IGdldENvbnZlcnNhdGlvbnMoKSBpZiBAYWN0b3JTZXJ2aWNlLmlzTG9nZ2VkSW4uJ1xuICAgICAgQGdldENvbnZlcnNhdGlvbnMoKVxuICAgIEAkcm9vdFNjb3BlLiRvbiAnYWN0b3JSZWFkeScsID0+XG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUNoYXRzQ29udHJvbGxlciBjb25zdHJ1Y3RvcjogYWN0b3JSZWFkeSBmaXJlZC4nXG4gICAgICBAZ2V0Q29udmVyc2F0aW9ucygpXG5cbiAgZ2V0Q29udmVyc2F0aW9uczogLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUNoYXRzQ29udHJvbGxlciBnZXRDaGF0cydcbiAgICBAYWN0b3JTZXJ2aWNlLmJpbmREaWFsb2dzIChpdGVtcykgPT4gQHJlbmRlckNvbnZlcnNhdGlvbnMgaXRlbXNcblxuICByZW5kZXJDb252ZXJzYXRpb25zOiAobGlzdCkgPT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXU1lc3NhZ2VzQ29udHJvbGxlciByZW5kZXJDb252ZXJzYXRpb25zJ1xuICAgIGNvbnNvbGUubG9nICdbQVddTWVzc2FnZXNDb250cm9sbGVyIHJlbmRlckNvbnZlcnNhdGlvbnM6IGxpc3Q6JywgbGlzdFxuICAgIEAkdGltZW91dCA9PlxuICAgICAgQCRzY29wZS4kYXBwbHkgKEBzY29wZSkgPT5cbiAgICAgICAgQGxpc3QgPSBsaXN0XG4gICAgICAgIEAkcm9vdFNjb3BlLiRicm9hZGNhc3QgJ3JlbmRlckNvbnZlcnNhdGlvbnMnXG5cbiAgc2VsZWN0Q2hhdDogKHBlZXIpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11DaGF0c0NvbnRyb2xsZXIgc2VsZWN0Q2hhdCdcbiAgICBpZiBAYWN0b3JTZXJ2aWNlLmN1cnJlbnRQZWVyXG4gICAgICBAYWN0b3JTZXJ2aWNlLmNsb3NlQ29udmVyc2F0aW9uIEBhY3RvclNlcnZpY2UuY3VycmVudFBlZXJcblxuICAgIEBhY3RvclNlcnZpY2Uub3BlbkNvbnZlcnNhdGlvbiBwZWVyXG5cbkNoYXRzQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckdGltZW91dCcsICdhY3RvclNlcnZpY2UnXVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUgJ2FjdG9yV2ViJ1xuICAuY29udHJvbGxlciAnY2hhdHNDb250cm9sbGVyJywgQ2hhdHNDb250cm9sbGVyXG4iLCJjbGFzcyBDb21wb3NlQ29udHJvbGxlclxuICBkcmFmdDogbnVsbFxuICBtZXNzYWdlOiBudWxsXG4gIGlzRW5hYmxlZDogZmFsc2VcblxuICBjb25zdHJ1Y3RvcjogKEAkcm9vdFNjb3BlLCBAYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQ29tcG9zZUNvbnRyb2xsZXIgY29uc3RydWN0b3InXG4gICAgQCRyb290U2NvcGUuJG9uICdvcGVuQ29udmVyc2F0aW9uJywgPT5cbiAgICAgIGNvbnNvbGUubG9nICdbQVddQ29tcG9zZUNvbnRyb2xsZXIgY29uc3RydWN0b3I6IG9wZW5Db252ZXJzYXRpb24gZmlyZWQuJ1xuICAgICAgQGVuYWJsZUNvbXBvc2UoKVxuXG4gIGVuYWJsZUNvbXBvc2U6IC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11Db21wb3NlQ29udHJvbGxlciBlbmFibGVDb21wb3NlJ1xuICAgIEBpc0VuYWJsZWQgPSB0cnVlXG4gICAgIyBAbWVzc2FnZSA9IEBkcmFmdCBpZiBAZHJhZnRcbiAgICAjIGNvbnNvbGUubG9nICdbQVddQ29tcG9zZUNvbnRyb2xsZXIgZW5hYmxlQ29tcG9zZTogQG1lc3NhZ2U6JywgQG1lc3NhZ2VcbiAgICAjIGNvbnNvbGUubG9nICdbQVddQ29tcG9zZUNvbnRyb2xsZXIgZW5hYmxlQ29tcG9zZTogQGRyYWZ0OicsIEBkcmFmdFxuXG4gIG9uVHlwaW5nOiAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQ29tcG9zZUNvbnRyb2xsZXIgb25UeXBpbmcnXG4gICAgQGFjdG9yU2VydmljZS5vblR5cGluZygpXG5cbiAgc2VuZE1lc3NhZ2U6IC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11Db21wb3NlQ29udHJvbGxlciBzZW5kTWVzc2FnZSdcbiAgICBjb25zb2xlLmxvZyAnW0FXXUNvbXBvc2VDb250cm9sbGVyIHNlbmRNZXNzYWdlOiBAbWVzc2FnZTonLCBAbWVzc2FnZVxuICAgIGNvbnNvbGUubG9nICdbQVddQ29tcG9zZUNvbnRyb2xsZXIgc2VuZE1lc3NhZ2U6IEBkcmFmdDonLCBAZHJhZnRcbiAgICBAYWN0b3JTZXJ2aWNlLnNlbmRNZXNzYWdlIEBhY3RvclNlcnZpY2UuY3VycmVudFBlZXIsIEBtZXNzYWdlXG4gICAgQG1lc3NhZ2UgPSBudWxsXG5cbkNvbXBvc2VDb250cm9sbGVyLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnYWN0b3JTZXJ2aWNlJ11cblxuYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYidcbiAgLmNvbnRyb2xsZXIgJ2NvbXBvc2VDb250cm9sbGVyJywgQ29tcG9zZUNvbnRyb2xsZXJcbiIsImNsYXNzIEVudGVyU3VibWl0XG4gIGNvbnN0cnVjdG9yOiAoKSAtPlxuICAgIEByZXN0cmljdCA9ICdBJ1xuXG4gIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cnMpIC0+XG4gICAgZWxlbS5iaW5kICdrZXlkb3duJywgKGV2ZW50KSAtPlxuICAgICAgY29kZSA9IGV2ZW50LmtleUNvZGUgfHwgZXZlbnQud2hpY2hcbiAgICAgIGlmIGNvZGUgPT0gMTNcbiAgICAgICAgaWYgIWV2ZW50LnNoaWZ0S2V5XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgIHNjb3BlLiRhcHBseSBhdHRycy5lbnRlclN1Ym1pdFxuXG5hbmd1bGFyXG4gIC5tb2R1bGUgJ2FjdG9yV2ViJ1xuICAuZGlyZWN0aXZlICdlbnRlclN1Ym1pdCcsIC0+IG5ldyBFbnRlclN1Ym1pdFxuIiwiY2xhc3MgTWVzc2FnZXNDb250cm9sbGVyXG4gIGxpc3Q6IG51bGxcblxuICBjb25zdHJ1Y3RvcjogKEAkc2NvcGUsIEAkcm9vdFNjb3BlLCBAJHRpbWVvdXQsIEBhY3RvclNlcnZpY2UpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11NZXNzYWdlc0NvbnRyb2xsZXIgY29uc3RydWN0b3InXG4gICAgQCRyb290U2NvcGUuJG9uICdvcGVuQ29udmVyc2F0aW9uJywgKGV2ZW50LCBwZWVyKSA9PlxuICAgICAgY29uc29sZS5sb2cgJ1tBV11NZXNzYWdlc0NvbnRyb2xsZXIgY29uc3RydWN0b3I6IG9wZW5Db252ZXJzYXRpb24gZmlyZWQuJ1xuICAgICAgQGdldE1lc3NhZ2VzKHBlZXIpXG5cbiAgZ2V0TWVzc2FnZXM6IChwZWVyKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddTWVzc2FnZXNDb250cm9sbGVyIGdldE1lc3NhZ2VzJ1xuICAgIGNvbnNvbGUubG9nICdbQVddTWVzc2FnZXNDb250cm9sbGVyIGdldE1lc3NhZ2VzOiBwZWVyOicsIHBlZXJcbiAgICBAYWN0b3JTZXJ2aWNlLmJpbmRDaGF0IHBlZXIsIEByZW5kZXJNZXNzYWdlc1xuXG4gIHJlbmRlck1lc3NhZ2VzOiAobWVzc2FnZXMpID0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11NZXNzYWdlc0NvbnRyb2xsZXIgcmVuZGVyTWVzc2FnZXMnXG4gICAgY29uc29sZS5sb2cgJ1tBV11NZXNzYWdlc0NvbnRyb2xsZXIgcmVuZGVyTWVzc2FnZXM6IG1lc3NhZ2VzOicsIG1lc3NhZ2VzXG4gICAgQCR0aW1lb3V0ID0+XG4gICAgICBAJHNjb3BlLiRhcHBseSAoQHNjb3BlKSA9PlxuICAgICAgICBAbGlzdCA9IG1lc3NhZ2VzXG4gICAgICAgIEAkcm9vdFNjb3BlLiRicm9hZGNhc3QgJ3JlbmRlck1lc3NhZ2VzJ1xuXG5NZXNzYWdlc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnYWN0b3JTZXJ2aWNlJ11cblxuYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYidcbiAgLmNvbnRyb2xsZXIgJ21lc3NhZ2VzQ29udHJvbGxlcicsIE1lc3NhZ2VzQ29udHJvbGxlclxuIiwiIyBjbGFzcyBTaWRlYmFyQ29udHJvbGxlclxuIyAgIGNvbnN0cnVjdG9yOiAtPlxuIyAgICAgY29uc29sZS5sb2cgJ1tBV11TaWRlYmFyQ29udHJvbGxlciBjb25zdHJ1Y3RvcidcbiNcbiMgYW5ndWxhclxuIyAgIC5tb2R1bGUgJ2FjdG9yV2ViJ1xuIyAgIC5jb250cm9sbGVyICdzaWRlYmFyQ29udHJvbGxlcicsIFNpZGViYXJDb250cm9sbGVyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=