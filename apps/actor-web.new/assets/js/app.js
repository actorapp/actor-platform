angular.module('actorWeb', ['ui.router', 'ngMaterial', 'ngStorage']);

var ActorConfig;

ActorConfig = (function() {
  function ActorConfig($stateProvider, $urlRouterProvider) {
    $stateProvider.state('home', {
      url: '/',
      views: {
        'sidebar': {
          templateUrl: 'app/shared/sidebar/sidebarDefaultView.html'
        },
        'toolbar': {
          templateUrl: 'app/shared/toolbar/toolbarDefaultView.html'
        },
        'content': {
          templateUrl: 'app/shared/messages/messagesListView.html'
        }
      }
    }).state('login', {
      url: '/login',
      data: {
        noLogin: true
      },
      views: {
        'content': {
          templateUrl: 'app/components/login/loginView.html'
        }
      }
    });
    $urlRouterProvider.otherwise('/');
  }

  return ActorConfig;

})();

ActorConfig.$inject = ['$stateProvider', '$urlRouterProvider'];

angular.module('actorWeb').config(ActorConfig);

var ActorRun;

ActorRun = (function() {
  function ActorRun($rootScope, $state, $stateParams, actorService) {
    console.log('[AW]Run');
    $rootScope.$state = $state;
    $rootScope.$stateParams = $stateParams;
    $rootScope.isLogedIn = null;
    $rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams) {
      return actorService.checkAccess(event, toState, toParams, fromState, fromParams);
    });
  }

  return ActorRun;

})();

ActorRun.$inject = ['$rootScope', '$state', '$stateParams', 'actorService'];

angular.module('actorWeb').run(ActorRun);

var ActorService,
  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ActorService = (function() {
  function ActorService($rootScope, $sessionStorage) {
    this.$rootScope = $rootScope;
    this.$sessionStorage = $sessionStorage;
    this.setLoggedOut = bind(this.setLoggedOut, this);
    this.setLoggedIn = bind(this.setLoggedIn, this);
    console.log('[AW]ActorService constructor');
    this.isLoggedIn = this.$sessionStorage.isLoggedIn;
    window.jsAppLoaded = (function(_this) {
      return function() {
        _this.messenger = new actor.ActorApp;
        return _this.$rootScope.$broadcast('actor-ready');
      };
    })(this);
  }

  ActorService.prototype.setLoggedIn = function() {
    console.log('[AW]ActorService setLoggedIn()');
    this.isLoggedIn = true;
    this.$rootScope.isLogedIn = true;
    this.$sessionStorage.isLogedIn = true;
    return this.$rootScope.$state.go('home');
  };

  ActorService.prototype.setLoggedOut = function() {
    console.log('[AW]ActorService setLoggedOut()');
    this.isLoggedIn = false;
    this.$rootScope.isLogedIn = false;
    this.$sessionStorage.isLogedIn = false;
    return this.$rootScope.$state.go('login');
  };

  ActorService.prototype.requestSms = function(phone) {
    console.log('[AW]ActorService requestSms()');
    return this.messenger.requestSms(phone.toString(), function(state) {
      return console.log('[AW]ActorService requestSms(): state:', state);
    }, function(tag, message, canTryAgain, state) {
      console.log('[AW]ActorService requestSms(): error');
      console.log('[AW]ActorService requestSms(): tag:', tag);
      console.log('[AW]ActorService requestSms(): message:', message);
      console.log('[AW]ActorService requestSms(): canTryAgain:', canTryAgain);
      return console.log('[AW]ActorService requestSms(): state:', state);
    });
  };

  ActorService.prototype.sendCode = function(code) {
    var setLoggedIn;
    console.log('[AW]ActorService sendCode()');
    setLoggedIn = this.setLoggedIn;
    return this.messenger.sendCode(code, function(state) {
      console.log('[AW]ActorService sendCode(): state:', state);
      if (state === 'logged_in') {
        return setLoggedIn();
      }
    }, function(tag, message, canTryAgain, state) {
      console.log('[AW]ActorService sendCode(): error');
      console.log('[AW]ActorService sendCode(): tag:', tag);
      console.log('[AW]ActorService sendCode(): message:', message);
      console.log('[AW]ActorService sendCode(): canTryAgain:', canTryAgain);
      return console.log('[AW]ActorService sendCode(): state:', state);
    });
  };

  ActorService.prototype.getDialogs = function(callback) {
    console.log('[AW]ActorService getDialogs()');
    return this.messenger.bindDialogs(function(items) {
      return callback(items);
    });
  };

  ActorService.prototype.checkAccess = function(event, toState, toParams, fromState, fromParams) {
    if (toState.data !== void 0) {
      if (toState.data.noLogin !== void 0 && toState.data.noLogin) {
        console.log('[AW]ActorService checkAccess(): before login');
      }
    } else {
      if (this.$sessionStorage.isLogedIn) {
        console.log('[AW]ActorService checkAccess(): authenticated');
        return this.$rootScope.isLogedIn = this.$sessionStorage.isLogedIn;
      } else {
        console.log('[AW]ActorService checkAccess(): redirect to login');
        event.preventDefault();
        return this.$rootScope.$state.go('login');
      }
    }
  };

  return ActorService;

})();

ActorService.$inject = ['$rootScope', '$sessionStorage'];

angular.module('actorWeb').service('actorService', ActorService);

var LoginController;

LoginController = (function() {
  function LoginController(actorService) {
    this.actorService = actorService;
    console.log('[AW]LoginController constructor');
  }

  LoginController.prototype.isCodeRequested = false;

  LoginController.prototype.requestCode = function(phone) {
    console.log('[AW]LoginController requestCode()');
    this.actorService.requestSms(phone);
    return this.isCodeRequested = true;
  };

  LoginController.prototype.checkCode = function(code) {
    console.log('[AW]LoginController checkCode()');
    return this.actorService.sendCode(code);
  };

  return LoginController;

})();

LoginController.$inject = ['actorService'];

angular.module('actorWeb').controller('loginController', LoginController);

var MainController;

MainController = (function() {
  function MainController($mdSidenav, $mdMedia, $mdBottomSheet, actorService) {
    this.$mdSidenav = $mdSidenav;
    this.$mdMedia = $mdMedia;
    this.$mdBottomSheet = $mdBottomSheet;
    this.actorService = actorService;
    console.log('[AW]MainController constructor');
  }

  MainController.prototype.showBottomSheet = function() {
    console.log('[AW]MainController showBottomSheet()');
    return this.$mdBottomSheet.show({
      templateUrl: 'app/shared/bottomSheet/bottomSheetView.html',
      parent: '#content',
      disableParentScroll: false
    });
  };

  MainController.prototype.openSidebar = function() {
    console.log('[AW]MainController openSidebar()');
    return this.$mdSidenav('left').toggle();
  };

  return MainController;

})();

MainController.$inject = ['$mdSidenav', '$mdMedia', '$mdBottomSheet', 'actorService'];

angular.module('actorWeb').controller('mainController', MainController);

var ChatsController;

ChatsController = (function() {
  function ChatsController($scope, actorService) {
    this.$scope = $scope;
    this.actorService = actorService;
    console.log('[AW]ChatsController constructor');
    this.$scope.$on('actor-ready', (function(_this) {
      return function() {
        return _this.getChats();
      };
    })(this));
  }

  ChatsController.prototype.getChats = function() {
    console.log('[AW]ChatsController getChats()');
    this.actorService.getDialogs((function(_this) {
      return function(items) {
        items.forEach(function(item) {
          console.log(item);
          if (!item.peer.avatar) {
            item.peer.avatar = 'http://api.adorable.io/avatars/48/';
            item.peer.avatar += item.peer.peer.id;
            return item.peer.avatar += '.png';
          }
        });
        return _this.list = items;
      };
    })(this));
    return console.log('[AW]ChatsController @list:', this.list);
  };

  return ChatsController;

})();

ChatsController.$inject = ['$scope', 'actorService'];

angular.module('actorWeb').controller('chatsController', ChatsController);

var MessagesController;

MessagesController = (function() {
  function MessagesController() {
    console.log('[AW]MessagesController constructor');
  }

  MessagesController.prototype.list = [
    {
      who: 'Min Li Chan',
      notes: ['A robot may not injure a human being or, through inaction, allow a human being to come to harm.', 'A robot must obey the orders given it by human beings, except where such orders would conflict with the First Law.', 'A robot must protect its own existence as long as such protection does not conflict with the First or Second Law.']
    }, {
      who: 'Толян',
      notes: ['Проверка блин']
    }, {
      who: 'Min Li Chan',
      notes: ['Brunch this weekend?']
    }, {
      who: 'Женя',
      notes: ["I'll be in your neighborhood doing errands"]
    }
  ];

  return MessagesController;

})();

angular.module('actorWeb').controller('messagesController', MessagesController);



//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5jb2ZmZWUiLCJhcHAuY29uZmlnLmNvZmZlZSIsImFwcC5ydW4uY29mZmVlIiwic2VydmljZXMvYWN0b3JTZXJ2aWNlLmNvZmZlZSIsImNvbXBvbmVudHMvbG9naW4vbG9naW5Db250cm9sbGVyLmNvZmZlZSIsImNvbXBvbmVudHMvbWFpbi9tYWluQ29udHJvbGxlci5jb2ZmZWUiLCJzaGFyZWQvY2hhdHMvY2hhdHNDb250cm9sbGVyLmNvZmZlZSIsInNoYXJlZC9tZXNzYWdlcy9tZXNzYWdlc0NvbnRyb2xsZXIuY29mZmVlIiwic2hhcmVkL3NpZGViYXIvc2lkZWJhckNvbnRyb2xsZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQ0UsQ0FBQyxNQURILENBQ1UsVUFEVixFQUNzQixDQUNsQixXQURrQixFQUVsQixZQUZrQixFQUdsQixXQUhrQixDQUR0QixDQUFBLENBQUE7O0FDQUEsSUFBQSxXQUFBOztBQUFBO0FBQ2UsRUFBQSxxQkFBQyxjQUFELEVBQWlCLGtCQUFqQixHQUFBO0FBQ1gsSUFBQSxjQUNFLENBQUMsS0FESCxDQUNTLE1BRFQsRUFFSTtBQUFBLE1BQUEsR0FBQSxFQUFLLEdBQUw7QUFBQSxNQUNBLEtBQUEsRUFDRTtBQUFBLFFBQUEsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEsNENBQWI7U0FBWDtBQUFBLFFBQ0EsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEsNENBQWI7U0FEWDtBQUFBLFFBRUEsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEsMkNBQWI7U0FGWDtPQUZGO0tBRkosQ0FRRSxDQUFDLEtBUkgsQ0FRUyxPQVJULEVBU0k7QUFBQSxNQUFBLEdBQUEsRUFBSyxRQUFMO0FBQUEsTUFDQSxJQUFBLEVBQ0U7QUFBQSxRQUFBLE9BQUEsRUFBUyxJQUFUO09BRkY7QUFBQSxNQUdBLEtBQUEsRUFDRTtBQUFBLFFBQUEsU0FBQSxFQUFXO0FBQUEsVUFBQSxXQUFBLEVBQWEscUNBQWI7U0FBWDtPQUpGO0tBVEosQ0FBQSxDQUFBO0FBQUEsSUFlQSxrQkFDRSxDQUFDLFNBREgsQ0FDYSxHQURiLENBZkEsQ0FEVztFQUFBLENBQWI7O3FCQUFBOztJQURGLENBQUE7O0FBQUEsV0FvQlcsQ0FBQyxPQUFaLEdBQXNCLENBQUMsZ0JBQUQsRUFBbUIsb0JBQW5CLENBcEJ0QixDQUFBOztBQUFBLE9BdUJFLENBQUMsTUFESCxDQUNVLFVBRFYsQ0FFRSxDQUFDLE1BRkgsQ0FFVSxXQUZWLENBdEJBLENBQUE7O0FDQUEsSUFBQSxRQUFBOztBQUFBO0FBQ2UsRUFBQSxrQkFBQyxVQUFELEVBQWEsTUFBYixFQUFxQixZQUFyQixFQUFtQyxZQUFuQyxHQUFBO0FBQ1gsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLFNBQVosQ0FBQSxDQUFBO0FBQUEsSUFDQSxVQUFVLENBQUMsTUFBWCxHQUFvQixNQURwQixDQUFBO0FBQUEsSUFFQSxVQUFVLENBQUMsWUFBWCxHQUEwQixZQUYxQixDQUFBO0FBQUEsSUFJQSxVQUFVLENBQUMsU0FBWCxHQUF1QixJQUp2QixDQUFBO0FBQUEsSUFLQSxVQUFVLENBQUMsR0FBWCxDQUFlLG1CQUFmLEVBQW9DLFNBQUMsS0FBRCxFQUFRLE9BQVIsRUFBaUIsUUFBakIsRUFBMkIsU0FBM0IsRUFBc0MsVUFBdEMsR0FBQTthQUNsQyxZQUFZLENBQUMsV0FBYixDQUF5QixLQUF6QixFQUFnQyxPQUFoQyxFQUF5QyxRQUF6QyxFQUFtRCxTQUFuRCxFQUE4RCxVQUE5RCxFQURrQztJQUFBLENBQXBDLENBTEEsQ0FEVztFQUFBLENBQWI7O2tCQUFBOztJQURGLENBQUE7O0FBQUEsUUFVUSxDQUFDLE9BQVQsR0FBbUIsQ0FBQyxZQUFELEVBQWUsUUFBZixFQUF5QixjQUF6QixFQUF5QyxjQUF6QyxDQVZuQixDQUFBOztBQUFBLE9BYUUsQ0FBQyxNQURILENBQ1UsVUFEVixDQUVFLENBQUMsR0FGSCxDQUVPLFFBRlAsQ0FaQSxDQUFBOztBQ0FBLElBQUEsWUFBQTtFQUFBLGdGQUFBOztBQUFBO0FBQ2UsRUFBQSxzQkFBQyxVQUFELEVBQWMsZUFBZCxHQUFBO0FBQ1gsSUFEWSxJQUFDLENBQUEsYUFBRCxVQUNaLENBQUE7QUFBQSxJQUR5QixJQUFDLENBQUEsa0JBQUQsZUFDekIsQ0FBQTtBQUFBLHFEQUFBLENBQUE7QUFBQSxtREFBQSxDQUFBO0FBQUEsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLDhCQUFaLENBQUEsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLFVBQUQsR0FBYyxJQUFDLENBQUEsZUFBZSxDQUFDLFVBRC9CLENBQUE7QUFBQSxJQUVBLE1BQU0sQ0FBQyxXQUFQLEdBQXFCLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFBLEdBQUE7QUFDbkIsUUFBQSxLQUFDLENBQUEsU0FBRCxHQUFhLEdBQUEsQ0FBQSxLQUFTLENBQUMsUUFBdkIsQ0FBQTtlQUNBLEtBQUMsQ0FBQSxVQUFVLENBQUMsVUFBWixDQUF1QixhQUF2QixFQUZtQjtNQUFBLEVBQUE7SUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBRnJCLENBRFc7RUFBQSxDQUFiOztBQUFBLHlCQU9BLFdBQUEsR0FBYSxTQUFBLEdBQUE7QUFDWCxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksZ0NBQVosQ0FBQSxDQUFBO0FBQUEsSUFDQSxJQUFDLENBQUEsVUFBRCxHQUFjLElBRGQsQ0FBQTtBQUFBLElBRUEsSUFBQyxDQUFBLFVBQVUsQ0FBQyxTQUFaLEdBQXdCLElBRnhCLENBQUE7QUFBQSxJQUdBLElBQUMsQ0FBQSxlQUFlLENBQUMsU0FBakIsR0FBNkIsSUFIN0IsQ0FBQTtXQUlBLElBQUMsQ0FBQSxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQW5CLENBQXNCLE1BQXRCLEVBTFc7RUFBQSxDQVBiLENBQUE7O0FBQUEseUJBY0EsWUFBQSxHQUFjLFNBQUEsR0FBQTtBQUNaLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxpQ0FBWixDQUFBLENBQUE7QUFBQSxJQUNBLElBQUMsQ0FBQSxVQUFELEdBQWMsS0FEZCxDQUFBO0FBQUEsSUFFQSxJQUFDLENBQUEsVUFBVSxDQUFDLFNBQVosR0FBd0IsS0FGeEIsQ0FBQTtBQUFBLElBR0EsSUFBQyxDQUFBLGVBQWUsQ0FBQyxTQUFqQixHQUE2QixLQUg3QixDQUFBO1dBSUEsSUFBQyxDQUFBLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBbkIsQ0FBc0IsT0FBdEIsRUFMWTtFQUFBLENBZGQsQ0FBQTs7QUFBQSx5QkFxQkEsVUFBQSxHQUFZLFNBQUMsS0FBRCxHQUFBO0FBQ1YsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLCtCQUFaLENBQUEsQ0FBQTtXQUNBLElBQUMsQ0FBQSxTQUFTLENBQUMsVUFBWCxDQUFzQixLQUFLLENBQUMsUUFBTixDQUFBLENBQXRCLEVBQXdDLFNBQUMsS0FBRCxHQUFBO2FBQ3RDLE9BQU8sQ0FBQyxHQUFSLENBQVksdUNBQVosRUFBcUQsS0FBckQsRUFEc0M7SUFBQSxDQUF4QyxFQUVFLFNBQUMsR0FBRCxFQUFNLE9BQU4sRUFBZSxXQUFmLEVBQTRCLEtBQTVCLEdBQUE7QUFDQSxNQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksc0NBQVosQ0FBQSxDQUFBO0FBQUEsTUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLHFDQUFaLEVBQW1ELEdBQW5ELENBREEsQ0FBQTtBQUFBLE1BRUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSx5Q0FBWixFQUF1RCxPQUF2RCxDQUZBLENBQUE7QUFBQSxNQUdBLE9BQU8sQ0FBQyxHQUFSLENBQVksNkNBQVosRUFBMkQsV0FBM0QsQ0FIQSxDQUFBO2FBSUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSx1Q0FBWixFQUFxRCxLQUFyRCxFQUxBO0lBQUEsQ0FGRixFQUZVO0VBQUEsQ0FyQlosQ0FBQTs7QUFBQSx5QkFnQ0EsUUFBQSxHQUFVLFNBQUMsSUFBRCxHQUFBO0FBQ1IsUUFBQSxXQUFBO0FBQUEsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLDZCQUFaLENBQUEsQ0FBQTtBQUFBLElBQ0EsV0FBQSxHQUFjLElBQUMsQ0FBQSxXQURmLENBQUE7V0FFQSxJQUFDLENBQUEsU0FBUyxDQUFDLFFBQVgsQ0FBb0IsSUFBcEIsRUFBMEIsU0FBQyxLQUFELEdBQUE7QUFDeEIsTUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLHFDQUFaLEVBQW1ELEtBQW5ELENBQUEsQ0FBQTtBQUNBLE1BQUEsSUFBaUIsS0FBQSxLQUFTLFdBQTFCO2VBQUEsV0FBQSxDQUFBLEVBQUE7T0FGd0I7SUFBQSxDQUExQixFQUdFLFNBQUMsR0FBRCxFQUFNLE9BQU4sRUFBZSxXQUFmLEVBQTRCLEtBQTVCLEdBQUE7QUFDQSxNQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksb0NBQVosQ0FBQSxDQUFBO0FBQUEsTUFDQSxPQUFPLENBQUMsR0FBUixDQUFZLG1DQUFaLEVBQWlELEdBQWpELENBREEsQ0FBQTtBQUFBLE1BRUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSx1Q0FBWixFQUFxRCxPQUFyRCxDQUZBLENBQUE7QUFBQSxNQUdBLE9BQU8sQ0FBQyxHQUFSLENBQVksMkNBQVosRUFBeUQsV0FBekQsQ0FIQSxDQUFBO2FBSUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxxQ0FBWixFQUFtRCxLQUFuRCxFQUxBO0lBQUEsQ0FIRixFQUhRO0VBQUEsQ0FoQ1YsQ0FBQTs7QUFBQSx5QkE2Q0EsVUFBQSxHQUFZLFNBQUMsUUFBRCxHQUFBO0FBQ1YsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLCtCQUFaLENBQUEsQ0FBQTtXQUNBLElBQUMsQ0FBQSxTQUFTLENBQUMsV0FBWCxDQUF1QixTQUFDLEtBQUQsR0FBQTthQUFXLFFBQUEsQ0FBUyxLQUFULEVBQVg7SUFBQSxDQUF2QixFQUZVO0VBQUEsQ0E3Q1osQ0FBQTs7QUFBQSx5QkFpREEsV0FBQSxHQUFhLFNBQUMsS0FBRCxFQUFRLE9BQVIsRUFBaUIsUUFBakIsRUFBMkIsU0FBM0IsRUFBc0MsVUFBdEMsR0FBQTtBQUNYLElBQUEsSUFBRyxPQUFPLENBQUMsSUFBUixLQUFnQixNQUFuQjtBQUNFLE1BQUEsSUFBRyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQWIsS0FBd0IsTUFBeEIsSUFBcUMsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFyRDtRQUNFLE9BQU8sQ0FBQyxHQUFSLENBQVksOENBQVosRUFERjtPQURGO0tBQUEsTUFBQTtBQUtFLE1BQUEsSUFBRyxJQUFDLENBQUEsZUFBZSxDQUFDLFNBQXBCO0FBQ0UsUUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLCtDQUFaLENBQUEsQ0FBQTtlQUNBLElBQUMsQ0FBQSxVQUFVLENBQUMsU0FBWixHQUF3QixJQUFDLENBQUEsZUFBZSxDQUFDLFVBRjNDO09BQUEsTUFBQTtBQUlFLFFBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxtREFBWixDQUFBLENBQUE7QUFBQSxRQUNBLEtBQUssQ0FBQyxjQUFOLENBQUEsQ0FEQSxDQUFBO2VBRUEsSUFBQyxDQUFBLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBbkIsQ0FBc0IsT0FBdEIsRUFORjtPQUxGO0tBRFc7RUFBQSxDQWpEYixDQUFBOztzQkFBQTs7SUFERixDQUFBOztBQUFBLFlBZ0VZLENBQUMsT0FBYixHQUF1QixDQUFDLFlBQUQsRUFBZSxpQkFBZixDQWhFdkIsQ0FBQTs7QUFBQSxPQW1FRSxDQUFDLE1BREgsQ0FDVSxVQURWLENBRUUsQ0FBQyxPQUZILENBRVcsY0FGWCxFQUUyQixZQUYzQixDQWxFQSxDQUFBOztBQ0FBLElBQUEsZUFBQTs7QUFBQTtBQUNlLEVBQUEseUJBQUMsWUFBRCxHQUFBO0FBQ1gsSUFEWSxJQUFDLENBQUEsZUFBRCxZQUNaLENBQUE7QUFBQSxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksaUNBQVosQ0FBQSxDQURXO0VBQUEsQ0FBYjs7QUFBQSw0QkFHQSxlQUFBLEdBQWlCLEtBSGpCLENBQUE7O0FBQUEsNEJBS0EsV0FBQSxHQUFhLFNBQUMsS0FBRCxHQUFBO0FBQ1gsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLG1DQUFaLENBQUEsQ0FBQTtBQUFBLElBQ0EsSUFBQyxDQUFBLFlBQVksQ0FBQyxVQUFkLENBQXlCLEtBQXpCLENBREEsQ0FBQTtXQUVBLElBQUMsQ0FBQSxlQUFELEdBQW1CLEtBSFI7RUFBQSxDQUxiLENBQUE7O0FBQUEsNEJBVUEsU0FBQSxHQUFXLFNBQUMsSUFBRCxHQUFBO0FBQ1QsSUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLGlDQUFaLENBQUEsQ0FBQTtXQUNBLElBQUMsQ0FBQSxZQUFZLENBQUMsUUFBZCxDQUF1QixJQUF2QixFQUZTO0VBQUEsQ0FWWCxDQUFBOzt5QkFBQTs7SUFERixDQUFBOztBQUFBLGVBZWUsQ0FBQyxPQUFoQixHQUEwQixDQUFDLGNBQUQsQ0FmMUIsQ0FBQTs7QUFBQSxPQWtCRSxDQUFDLE1BREgsQ0FDVSxVQURWLENBRUUsQ0FBQyxVQUZILENBRWMsaUJBRmQsRUFFaUMsZUFGakMsQ0FqQkEsQ0FBQTs7QUNBQSxJQUFBLGNBQUE7O0FBQUE7QUFDZSxFQUFBLHdCQUFDLFVBQUQsRUFBYyxRQUFkLEVBQXlCLGNBQXpCLEVBQTBDLFlBQTFDLEdBQUE7QUFDWCxJQURZLElBQUMsQ0FBQSxhQUFELFVBQ1osQ0FBQTtBQUFBLElBRHlCLElBQUMsQ0FBQSxXQUFELFFBQ3pCLENBQUE7QUFBQSxJQURvQyxJQUFDLENBQUEsaUJBQUQsY0FDcEMsQ0FBQTtBQUFBLElBRHFELElBQUMsQ0FBQSxlQUFELFlBQ3JELENBQUE7QUFBQSxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksZ0NBQVosQ0FBQSxDQURXO0VBQUEsQ0FBYjs7QUFBQSwyQkFHQSxlQUFBLEdBQWlCLFNBQUEsR0FBQTtBQUNmLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxzQ0FBWixDQUFBLENBQUE7V0FDQSxJQUFDLENBQUEsY0FBYyxDQUFDLElBQWhCLENBQ0U7QUFBQSxNQUFBLFdBQUEsRUFBYSw2Q0FBYjtBQUFBLE1BQ0EsTUFBQSxFQUFRLFVBRFI7QUFBQSxNQUVBLG1CQUFBLEVBQXFCLEtBRnJCO0tBREYsRUFGZTtFQUFBLENBSGpCLENBQUE7O0FBQUEsMkJBVUEsV0FBQSxHQUFhLFNBQUEsR0FBQTtBQUNYLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxrQ0FBWixDQUFBLENBQUE7V0FDQSxJQUFDLENBQUEsVUFBRCxDQUFZLE1BQVosQ0FBbUIsQ0FBQyxNQUFwQixDQUFBLEVBRlc7RUFBQSxDQVZiLENBQUE7O3dCQUFBOztJQURGLENBQUE7O0FBQUEsY0FlYyxDQUFDLE9BQWYsR0FBeUIsQ0FBQyxZQUFELEVBQWUsVUFBZixFQUEyQixnQkFBM0IsRUFBNkMsY0FBN0MsQ0FmekIsQ0FBQTs7QUFBQSxPQWtCRSxDQUFDLE1BREgsQ0FDVSxVQURWLENBRUUsQ0FBQyxVQUZILENBRWMsZ0JBRmQsRUFFZ0MsY0FGaEMsQ0FqQkEsQ0FBQTs7QUNBQSxJQUFBLGVBQUE7O0FBQUE7QUFDZSxFQUFBLHlCQUFDLE1BQUQsRUFBVSxZQUFWLEdBQUE7QUFDWCxJQURZLElBQUMsQ0FBQSxTQUFELE1BQ1osQ0FBQTtBQUFBLElBRHFCLElBQUMsQ0FBQSxlQUFELFlBQ3JCLENBQUE7QUFBQSxJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksaUNBQVosQ0FBQSxDQUFBO0FBQUEsSUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLEdBQVIsQ0FBWSxhQUFaLEVBQTJCLENBQUEsU0FBQSxLQUFBLEdBQUE7YUFBQSxTQUFBLEdBQUE7ZUFBRyxLQUFDLENBQUEsUUFBRCxDQUFBLEVBQUg7TUFBQSxFQUFBO0lBQUEsQ0FBQSxDQUFBLENBQUEsSUFBQSxDQUEzQixDQURBLENBRFc7RUFBQSxDQUFiOztBQUFBLDRCQUlBLFFBQUEsR0FBVSxTQUFBLEdBQUE7QUFDUixJQUFBLE9BQU8sQ0FBQyxHQUFSLENBQVksZ0NBQVosQ0FBQSxDQUFBO0FBQUEsSUFDQSxJQUFDLENBQUEsWUFBWSxDQUFDLFVBQWQsQ0FBeUIsQ0FBQSxTQUFBLEtBQUEsR0FBQTthQUFBLFNBQUMsS0FBRCxHQUFBO0FBQ3ZCLFFBQUEsS0FBSyxDQUFDLE9BQU4sQ0FBYyxTQUFDLElBQUQsR0FBQTtBQUNaLFVBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxJQUFaLENBQUEsQ0FBQTtBQUNBLFVBQUEsSUFBRyxDQUFBLElBQUssQ0FBQyxJQUFJLENBQUMsTUFBZDtBQUNFLFlBQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFWLEdBQW1CLG9DQUFuQixDQUFBO0FBQUEsWUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQVYsSUFBb0IsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFEbkMsQ0FBQTttQkFFQSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQVYsSUFBb0IsT0FIdEI7V0FGWTtRQUFBLENBQWQsQ0FBQSxDQUFBO2VBTUEsS0FBQyxDQUFBLElBQUQsR0FBUSxNQVBlO01BQUEsRUFBQTtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBekIsQ0FEQSxDQUFBO1dBU0EsT0FBTyxDQUFDLEdBQVIsQ0FBWSw0QkFBWixFQUEwQyxJQUFDLENBQUEsSUFBM0MsRUFWUTtFQUFBLENBSlYsQ0FBQTs7eUJBQUE7O0lBREYsQ0FBQTs7QUFBQSxlQWlCZSxDQUFDLE9BQWhCLEdBQTBCLENBQUMsUUFBRCxFQUFXLGNBQVgsQ0FqQjFCLENBQUE7O0FBQUEsT0FvQkUsQ0FBQyxNQURILENBQ1UsVUFEVixDQUVFLENBQUMsVUFGSCxDQUVjLGlCQUZkLEVBRWlDLGVBRmpDLENBbkJBLENBQUE7O0FDQUEsSUFBQSxrQkFBQTs7QUFBQTtBQUNlLEVBQUEsNEJBQUEsR0FBQTtBQUNYLElBQUEsT0FBTyxDQUFDLEdBQVIsQ0FBWSxvQ0FBWixDQUFBLENBRFc7RUFBQSxDQUFiOztBQUFBLCtCQUdBLElBQUEsR0FBTTtJQUNKO0FBQUEsTUFBQSxHQUFBLEVBQUssYUFBTDtBQUFBLE1BQ0EsS0FBQSxFQUFPLENBQ0wsaUdBREssRUFFTCxvSEFGSyxFQUdMLG1IQUhLLENBRFA7S0FESSxFQVFKO0FBQUEsTUFBQSxHQUFBLEVBQUssT0FBTDtBQUFBLE1BQ0EsS0FBQSxFQUFPLENBQUMsZUFBRCxDQURQO0tBUkksRUFXSjtBQUFBLE1BQUEsR0FBQSxFQUFLLGFBQUw7QUFBQSxNQUNBLEtBQUEsRUFBTyxDQUFDLHNCQUFELENBRFA7S0FYSSxFQWNKO0FBQUEsTUFBQSxHQUFBLEVBQUssTUFBTDtBQUFBLE1BQ0EsS0FBQSxFQUFPLENBQUMsNENBQUQsQ0FEUDtLQWRJO0dBSE4sQ0FBQTs7NEJBQUE7O0lBREYsQ0FBQTs7QUFBQSxPQXVCRSxDQUFDLE1BREgsQ0FDVSxVQURWLENBRUUsQ0FBQyxVQUZILENBRWMsb0JBRmQsRUFFb0Msa0JBRnBDLENBdEJBLENBQUE7O0FDQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYicsIFtcbiAgICAndWkucm91dGVyJ1xuICAgICduZ01hdGVyaWFsJ1xuICAgICduZ1N0b3JhZ2UnXG4gIF1cbiIsImNsYXNzIEFjdG9yQ29uZmlnXG4gIGNvbnN0cnVjdG9yOiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikgLT5cbiAgICAkc3RhdGVQcm92aWRlclxuICAgICAgLnN0YXRlICdob21lJyxcbiAgICAgICAgdXJsOiAnLydcbiAgICAgICAgdmlld3M6XG4gICAgICAgICAgJ3NpZGViYXInOiB0ZW1wbGF0ZVVybDogJ2FwcC9zaGFyZWQvc2lkZWJhci9zaWRlYmFyRGVmYXVsdFZpZXcuaHRtbCdcbiAgICAgICAgICAndG9vbGJhcic6IHRlbXBsYXRlVXJsOiAnYXBwL3NoYXJlZC90b29sYmFyL3Rvb2xiYXJEZWZhdWx0Vmlldy5odG1sJ1xuICAgICAgICAgICdjb250ZW50JzogdGVtcGxhdGVVcmw6ICdhcHAvc2hhcmVkL21lc3NhZ2VzL21lc3NhZ2VzTGlzdFZpZXcuaHRtbCdcblxuICAgICAgLnN0YXRlICdsb2dpbicsXG4gICAgICAgIHVybDogJy9sb2dpbidcbiAgICAgICAgZGF0YTpcbiAgICAgICAgICBub0xvZ2luOiB0cnVlXG4gICAgICAgIHZpZXdzOlxuICAgICAgICAgICdjb250ZW50JzogdGVtcGxhdGVVcmw6ICdhcHAvY29tcG9uZW50cy9sb2dpbi9sb2dpblZpZXcuaHRtbCdcblxuICAgICR1cmxSb3V0ZXJQcm92aWRlclxuICAgICAgLm90aGVyd2lzZSAnLydcblxuQWN0b3JDb25maWcuJGluamVjdCA9IFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJ11cblxuYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYidcbiAgLmNvbmZpZyBBY3RvckNvbmZpZ1xuIiwiY2xhc3MgQWN0b3JSdW5cbiAgY29uc3RydWN0b3I6ICgkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddUnVuJ1xuICAgICRyb290U2NvcGUuJHN0YXRlID0gJHN0YXRlXG4gICAgJHJvb3RTY29wZS4kc3RhdGVQYXJhbXMgPSAkc3RhdGVQYXJhbXNcblxuICAgICRyb290U2NvcGUuaXNMb2dlZEluID0gbnVsbFxuICAgICRyb290U2NvcGUuJG9uICckc3RhdGVDaGFuZ2VTdGFydCcsIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykgLT5cbiAgICAgIGFjdG9yU2VydmljZS5jaGVja0FjY2VzcyhldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcylcblxuQWN0b3JSdW4uJGluamVjdCA9IFsnJHJvb3RTY29wZScsICckc3RhdGUnLCAnJHN0YXRlUGFyYW1zJywgJ2FjdG9yU2VydmljZSddXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSAnYWN0b3JXZWInXG4gIC5ydW4gQWN0b3JSdW5cbiIsImNsYXNzIEFjdG9yU2VydmljZVxuICBjb25zdHJ1Y3RvcjogKEAkcm9vdFNjb3BlLCBAJHNlc3Npb25TdG9yYWdlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIGNvbnN0cnVjdG9yJ1xuICAgIEBpc0xvZ2dlZEluID0gQCRzZXNzaW9uU3RvcmFnZS5pc0xvZ2dlZEluXG4gICAgd2luZG93LmpzQXBwTG9hZGVkID0gPT5cbiAgICAgIEBtZXNzZW5nZXIgPSBuZXcgYWN0b3IuQWN0b3JBcHBcbiAgICAgIEAkcm9vdFNjb3BlLiRicm9hZGNhc3QgJ2FjdG9yLXJlYWR5J1xuXG4gIHNldExvZ2dlZEluOiAoKSA9PlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNldExvZ2dlZEluKCknXG4gICAgQGlzTG9nZ2VkSW4gPSB0cnVlXG4gICAgQCRyb290U2NvcGUuaXNMb2dlZEluID0gdHJ1ZVxuICAgIEAkc2Vzc2lvblN0b3JhZ2UuaXNMb2dlZEluID0gdHJ1ZVxuICAgIEAkcm9vdFNjb3BlLiRzdGF0ZS5nbygnaG9tZScpXG5cbiAgc2V0TG9nZ2VkT3V0OiAoKSA9PlxuICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNldExvZ2dlZE91dCgpJ1xuICAgIEBpc0xvZ2dlZEluID0gZmFsc2VcbiAgICBAJHJvb3RTY29wZS5pc0xvZ2VkSW4gPSBmYWxzZVxuICAgIEAkc2Vzc2lvblN0b3JhZ2UuaXNMb2dlZEluID0gZmFsc2VcbiAgICBAJHJvb3RTY29wZS4kc3RhdGUuZ28oJ2xvZ2luJylcblxuICByZXF1ZXN0U21zOiAocGhvbmUpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgcmVxdWVzdFNtcygpJ1xuICAgIEBtZXNzZW5nZXIucmVxdWVzdFNtcyBwaG9uZS50b1N0cmluZygpLCAoc3RhdGUpIC0+XG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSByZXF1ZXN0U21zKCk6IHN0YXRlOicsIHN0YXRlXG4gICAgLCAodGFnLCBtZXNzYWdlLCBjYW5UcnlBZ2Fpbiwgc3RhdGUpIC0+XG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSByZXF1ZXN0U21zKCk6IGVycm9yJ1xuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgcmVxdWVzdFNtcygpOiB0YWc6JywgdGFnXG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSByZXF1ZXN0U21zKCk6IG1lc3NhZ2U6JywgbWVzc2FnZVxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgcmVxdWVzdFNtcygpOiBjYW5UcnlBZ2FpbjonLCBjYW5UcnlBZ2FpblxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgcmVxdWVzdFNtcygpOiBzdGF0ZTonLCBzdGF0ZVxuXG4gIHNlbmRDb2RlOiAoY29kZSkgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBzZW5kQ29kZSgpJ1xuICAgIHNldExvZ2dlZEluID0gQHNldExvZ2dlZEluXG4gICAgQG1lc3Nlbmdlci5zZW5kQ29kZSBjb2RlLCAoc3RhdGUpIC0+XG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBzZW5kQ29kZSgpOiBzdGF0ZTonLCBzdGF0ZVxuICAgICAgc2V0TG9nZ2VkSW4oKSBpZiBzdGF0ZSA9PSAnbG9nZ2VkX2luJ1xuICAgICwgKHRhZywgbWVzc2FnZSwgY2FuVHJ5QWdhaW4sIHN0YXRlKSAtPlxuICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2Ugc2VuZENvZGUoKTogZXJyb3InXG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBzZW5kQ29kZSgpOiB0YWc6JywgdGFnXG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBzZW5kQ29kZSgpOiBtZXNzYWdlOicsIG1lc3NhZ2VcbiAgICAgIGNvbnNvbGUubG9nICdbQVddQWN0b3JTZXJ2aWNlIHNlbmRDb2RlKCk6IGNhblRyeUFnYWluOicsIGNhblRyeUFnYWluXG4gICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBzZW5kQ29kZSgpOiBzdGF0ZTonLCBzdGF0ZVxuXG4gIGdldERpYWxvZ3M6IChjYWxsYmFjaykgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBnZXREaWFsb2dzKCknXG4gICAgQG1lc3Nlbmdlci5iaW5kRGlhbG9ncyAoaXRlbXMpIC0+IGNhbGxiYWNrIGl0ZW1zXG5cbiAgY2hlY2tBY2Nlc3M6IChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykgLT5cbiAgICBpZiB0b1N0YXRlLmRhdGEgIT0gdW5kZWZpbmVkXG4gICAgICBpZiB0b1N0YXRlLmRhdGEubm9Mb2dpbiAhPSB1bmRlZmluZWQgJiYgdG9TdGF0ZS5kYXRhLm5vTG9naW5cbiAgICAgICAgY29uc29sZS5sb2cgJ1tBV11BY3RvclNlcnZpY2UgY2hlY2tBY2Nlc3MoKTogYmVmb3JlIGxvZ2luJ1xuICAgICAgICByZXR1cm5cbiAgICBlbHNlXG4gICAgICBpZiBAJHNlc3Npb25TdG9yYWdlLmlzTG9nZWRJblxuICAgICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBjaGVja0FjY2VzcygpOiBhdXRoZW50aWNhdGVkJ1xuICAgICAgICBAJHJvb3RTY29wZS5pc0xvZ2VkSW4gPSBAJHNlc3Npb25TdG9yYWdlLmlzTG9nZWRJblxuICAgICAgZWxzZVxuICAgICAgICBjb25zb2xlLmxvZyAnW0FXXUFjdG9yU2VydmljZSBjaGVja0FjY2VzcygpOiByZWRpcmVjdCB0byBsb2dpbidcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBAJHJvb3RTY29wZS4kc3RhdGUuZ28oJ2xvZ2luJylcblxuQWN0b3JTZXJ2aWNlLiRpbmplY3QgPSBbJyRyb290U2NvcGUnLCAnJHNlc3Npb25TdG9yYWdlJ11cblxuYW5ndWxhclxuICAubW9kdWxlICdhY3RvcldlYidcbiAgLnNlcnZpY2UgJ2FjdG9yU2VydmljZScsIEFjdG9yU2VydmljZVxuIiwiY2xhc3MgTG9naW5Db250cm9sbGVyXG4gIGNvbnN0cnVjdG9yOiAoQGFjdG9yU2VydmljZSkgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUxvZ2luQ29udHJvbGxlciBjb25zdHJ1Y3RvcidcblxuICBpc0NvZGVSZXF1ZXN0ZWQ6IGZhbHNlXG5cbiAgcmVxdWVzdENvZGU6IChwaG9uZSkgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUxvZ2luQ29udHJvbGxlciByZXF1ZXN0Q29kZSgpJ1xuICAgIEBhY3RvclNlcnZpY2UucmVxdWVzdFNtcyBwaG9uZVxuICAgIEBpc0NvZGVSZXF1ZXN0ZWQgPSB0cnVlXG5cbiAgY2hlY2tDb2RlOiAoY29kZSkgLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXUxvZ2luQ29udHJvbGxlciBjaGVja0NvZGUoKSdcbiAgICBAYWN0b3JTZXJ2aWNlLnNlbmRDb2RlIGNvZGVcblxuTG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJ2FjdG9yU2VydmljZSddXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSAnYWN0b3JXZWInXG4gIC5jb250cm9sbGVyICdsb2dpbkNvbnRyb2xsZXInLCBMb2dpbkNvbnRyb2xsZXJcbiIsImNsYXNzIE1haW5Db250cm9sbGVyXG4gIGNvbnN0cnVjdG9yOiAoQCRtZFNpZGVuYXYsIEAkbWRNZWRpYSwgQCRtZEJvdHRvbVNoZWV0LCBAYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddTWFpbkNvbnRyb2xsZXIgY29uc3RydWN0b3InXG5cbiAgc2hvd0JvdHRvbVNoZWV0OiAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddTWFpbkNvbnRyb2xsZXIgc2hvd0JvdHRvbVNoZWV0KCknXG4gICAgQCRtZEJvdHRvbVNoZWV0LnNob3dcbiAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3NoYXJlZC9ib3R0b21TaGVldC9ib3R0b21TaGVldFZpZXcuaHRtbCdcbiAgICAgIHBhcmVudDogJyNjb250ZW50J1xuICAgICAgZGlzYWJsZVBhcmVudFNjcm9sbDogZmFsc2VcblxuICBvcGVuU2lkZWJhcjogLT5cbiAgICBjb25zb2xlLmxvZyAnW0FXXU1haW5Db250cm9sbGVyIG9wZW5TaWRlYmFyKCknXG4gICAgQCRtZFNpZGVuYXYoJ2xlZnQnKS50b2dnbGUoKVxuXG5NYWluQ29udHJvbGxlci4kaW5qZWN0ID0gWyckbWRTaWRlbmF2JywgJyRtZE1lZGlhJywgJyRtZEJvdHRvbVNoZWV0JywgJ2FjdG9yU2VydmljZSddXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSAnYWN0b3JXZWInXG4gIC5jb250cm9sbGVyICdtYWluQ29udHJvbGxlcicsIE1haW5Db250cm9sbGVyXG4iLCJjbGFzcyBDaGF0c0NvbnRyb2xsZXJcbiAgY29uc3RydWN0b3I6IChAJHNjb3BlLCBAYWN0b3JTZXJ2aWNlKSAtPlxuICAgIGNvbnNvbGUubG9nICdbQVddQ2hhdHNDb250cm9sbGVyIGNvbnN0cnVjdG9yJ1xuICAgIEAkc2NvcGUuJG9uICdhY3Rvci1yZWFkeScsID0+IEBnZXRDaGF0cygpXG5cbiAgZ2V0Q2hhdHM6IC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11DaGF0c0NvbnRyb2xsZXIgZ2V0Q2hhdHMoKSdcbiAgICBAYWN0b3JTZXJ2aWNlLmdldERpYWxvZ3MgKGl0ZW1zKSA9PlxuICAgICAgaXRlbXMuZm9yRWFjaCAoaXRlbSkgLT5cbiAgICAgICAgY29uc29sZS5sb2cgaXRlbVxuICAgICAgICBpZiAhaXRlbS5wZWVyLmF2YXRhclxuICAgICAgICAgIGl0ZW0ucGVlci5hdmF0YXIgPSAnaHR0cDovL2FwaS5hZG9yYWJsZS5pby9hdmF0YXJzLzQ4LydcbiAgICAgICAgICBpdGVtLnBlZXIuYXZhdGFyICs9IGl0ZW0ucGVlci5wZWVyLmlkXG4gICAgICAgICAgaXRlbS5wZWVyLmF2YXRhciArPSAnLnBuZyc7XG4gICAgICBAbGlzdCA9IGl0ZW1zXG4gICAgY29uc29sZS5sb2cgJ1tBV11DaGF0c0NvbnRyb2xsZXIgQGxpc3Q6JywgQGxpc3RcblxuQ2hhdHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICdhY3RvclNlcnZpY2UnXVxuXG5hbmd1bGFyXG4gIC5tb2R1bGUgJ2FjdG9yV2ViJ1xuICAuY29udHJvbGxlciAnY2hhdHNDb250cm9sbGVyJywgQ2hhdHNDb250cm9sbGVyXG4iLCJjbGFzcyBNZXNzYWdlc0NvbnRyb2xsZXJcbiAgY29uc3RydWN0b3I6ICgpIC0+XG4gICAgY29uc29sZS5sb2cgJ1tBV11NZXNzYWdlc0NvbnRyb2xsZXIgY29uc3RydWN0b3InXG5cbiAgbGlzdDogW1xuICAgIHdobzogJ01pbiBMaSBDaGFuJyxcbiAgICBub3RlczogW1xuICAgICAgJ0Egcm9ib3QgbWF5IG5vdCBpbmp1cmUgYSBodW1hbiBiZWluZyBvciwgdGhyb3VnaCBpbmFjdGlvbiwgYWxsb3cgYSBodW1hbiBiZWluZyB0byBjb21lIHRvIGhhcm0uJ1xuICAgICAgJ0Egcm9ib3QgbXVzdCBvYmV5IHRoZSBvcmRlcnMgZ2l2ZW4gaXQgYnkgaHVtYW4gYmVpbmdzLCBleGNlcHQgd2hlcmUgc3VjaCBvcmRlcnMgd291bGQgY29uZmxpY3Qgd2l0aCB0aGUgRmlyc3QgTGF3LidcbiAgICAgICdBIHJvYm90IG11c3QgcHJvdGVjdCBpdHMgb3duIGV4aXN0ZW5jZSBhcyBsb25nIGFzIHN1Y2ggcHJvdGVjdGlvbiBkb2VzIG5vdCBjb25mbGljdCB3aXRoIHRoZSBGaXJzdCBvciBTZWNvbmQgTGF3LidcbiAgICBdXG4gICxcbiAgICB3aG86ICfQotC+0LvRj9C9JyxcbiAgICBub3RlczogWyfQn9GA0L7QstC10YDQutCwINCx0LvQuNC9J11cbiAgLFxuICAgIHdobzogJ01pbiBMaSBDaGFuJyxcbiAgICBub3RlczogWydCcnVuY2ggdGhpcyB3ZWVrZW5kPyddXG4gICxcbiAgICB3aG86ICfQltC10L3RjycsXG4gICAgbm90ZXM6IFtcIkknbGwgYmUgaW4geW91ciBuZWlnaGJvcmhvb2QgZG9pbmcgZXJyYW5kc1wiXVxuICBdXG5cbmFuZ3VsYXJcbiAgLm1vZHVsZSAnYWN0b3JXZWInXG4gIC5jb250cm9sbGVyICdtZXNzYWdlc0NvbnRyb2xsZXInLCBNZXNzYWdlc0NvbnRyb2xsZXJcbiIsIiMgY2xhc3MgU2lkZWJhckNvbnRyb2xsZXJcbiMgICBjb25zdHJ1Y3RvcjogLT5cbiMgICAgIGNvbnNvbGUubG9nICdbQVddU2lkZWJhckNvbnRyb2xsZXIgY29uc3RydWN0b3InXG4jXG4jIGFuZ3VsYXJcbiMgICAubW9kdWxlICdhY3RvcldlYidcbiMgICAuY29udHJvbGxlciAnc2lkZWJhckNvbnRyb2xsZXInLCBTaWRlYmFyQ29udHJvbGxlclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9