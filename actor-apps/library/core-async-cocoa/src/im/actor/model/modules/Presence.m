//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-platform/actor-apps/library/core/src/main/java/im/actor/model/modules/Presence.java
//


#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "im/actor/model/droidkit/actors/ActorCreator.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/droidkit/actors/ActorSystem.h"
#include "im/actor/model/droidkit/actors/Props.h"
#include "im/actor/model/entity/Peer.h"
#include "im/actor/model/modules/BaseModule.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/modules/Presence.h"
#include "im/actor/model/modules/presence/OwnPresenceActor.h"
#include "im/actor/model/modules/presence/PresenceActor.h"

@interface ImActorModelModulesPresence () {
 @public
  DKActorRef *myPresence_;
  DKActorRef *presence_;
}

@end

J2OBJC_FIELD_SETTER(ImActorModelModulesPresence, myPresence_, DKActorRef *)
J2OBJC_FIELD_SETTER(ImActorModelModulesPresence, presence_, DKActorRef *)

@interface ImActorModelModulesPresence_$1 : NSObject < DKActorCreator > {
 @public
  ImActorModelModulesModules *val$modules_;
}

- (ImActorModelModulesPresenceOwnPresenceActor *)create;

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)capture$0;

@end

J2OBJC_EMPTY_STATIC_INIT(ImActorModelModulesPresence_$1)

J2OBJC_FIELD_SETTER(ImActorModelModulesPresence_$1, val$modules_, ImActorModelModulesModules *)

__attribute__((unused)) static void ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(ImActorModelModulesPresence_$1 *self, ImActorModelModulesModules *capture$0);

__attribute__((unused)) static ImActorModelModulesPresence_$1 *new_ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(ImActorModelModulesModules *capture$0) NS_RETURNS_RETAINED;

J2OBJC_TYPE_LITERAL_HEADER(ImActorModelModulesPresence_$1)

@implementation ImActorModelModulesPresence

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)modules {
  ImActorModelModulesPresence_initWithImActorModelModulesModules_(self, modules);
  return self;
}

- (void)run {
}

- (void)onAppVisible {
  [((DKActorRef *) nil_chk(myPresence_)) sendWithId:new_ImActorModelModulesPresenceOwnPresenceActor_OnAppVisible_init()];
}

- (void)onAppHidden {
  [((DKActorRef *) nil_chk(myPresence_)) sendWithId:new_ImActorModelModulesPresenceOwnPresenceActor_OnAppHidden_init()];
}

- (void)subscribeWithAMPeer:(AMPeer *)peer {
  [((DKActorRef *) nil_chk(presence_)) sendWithId:new_ImActorModelModulesPresencePresenceActor_Subscribe_initWithAMPeer_(peer)];
}

- (void)onNewSessionCreated {
  [((DKActorRef *) nil_chk(presence_)) sendWithId:new_ImActorModelModulesPresencePresenceActor_SessionCreated_init()];
}

- (void)resetModule {
}

@end

void ImActorModelModulesPresence_initWithImActorModelModulesModules_(ImActorModelModulesPresence *self, ImActorModelModulesModules *modules) {
  (void) ImActorModelModulesBaseModule_initWithImActorModelModulesModules_(self, modules);
  self->myPresence_ = [((DKActorSystem *) nil_chk(DKActorSystem_system())) actorOfWithDKProps:DKProps_createWithIOSClass_withDKActorCreator_(ImActorModelModulesPresenceOwnPresenceActor_class_(), new_ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(modules)) withNSString:@"actor/presence/own"];
  self->presence_ = ImActorModelModulesPresencePresenceActor_getWithImActorModelModulesModules_(modules);
}

ImActorModelModulesPresence *new_ImActorModelModulesPresence_initWithImActorModelModulesModules_(ImActorModelModulesModules *modules) {
  ImActorModelModulesPresence *self = [ImActorModelModulesPresence alloc];
  ImActorModelModulesPresence_initWithImActorModelModulesModules_(self, modules);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresence)

@implementation ImActorModelModulesPresence_$1

- (ImActorModelModulesPresenceOwnPresenceActor *)create {
  return new_ImActorModelModulesPresenceOwnPresenceActor_initWithImActorModelModulesModules_(val$modules_);
}

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)capture$0 {
  ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(self, capture$0);
  return self;
}

@end

void ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(ImActorModelModulesPresence_$1 *self, ImActorModelModulesModules *capture$0) {
  self->val$modules_ = capture$0;
  (void) NSObject_init(self);
}

ImActorModelModulesPresence_$1 *new_ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(ImActorModelModulesModules *capture$0) {
  ImActorModelModulesPresence_$1 *self = [ImActorModelModulesPresence_$1 alloc];
  ImActorModelModulesPresence_$1_initWithImActorModelModulesModules_(self, capture$0);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesPresence_$1)
