//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-proprietary/actor-apps/core/src/main/java/im/actor/model/modules/state/ListsStatesActor.java
//


#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/model/api/AppCounters.h"
#include "im/actor/model/droidkit/actors/Actor.h"
#include "im/actor/model/droidkit/bser/BserParser.h"
#include "im/actor/model/droidkit/bser/BserValues.h"
#include "im/actor/model/droidkit/bser/DataInput.h"
#include "im/actor/model/droidkit/bser/util/SparseArray.h"
#include "im/actor/model/droidkit/engine/PreferencesStorage.h"
#include "im/actor/model/modules/AppStateModule.h"
#include "im/actor/model/modules/Modules.h"
#include "im/actor/model/modules/state/ListsStatesActor.h"
#include "im/actor/model/modules/utils/ModuleActor.h"
#include "im/actor/model/viewmodel/AppStateVM.h"
#include "java/io/IOException.h"
#include "java/lang/Integer.h"

@interface ImActorModelModulesStateListsStatesActor () {
 @public
  APAppCounters *counters_;
}

@end

J2OBJC_FIELD_SETTER(ImActorModelModulesStateListsStatesActor, counters_, APAppCounters *)

@interface ImActorModelModulesStateListsStatesActor_OnAppCounterChanged () {
 @public
  APAppCounters *counters_;
}

@end

J2OBJC_FIELD_SETTER(ImActorModelModulesStateListsStatesActor_OnAppCounterChanged, counters_, APAppCounters *)

@interface ImActorModelModulesStateListsStatesActor_OnContactsChanged () {
 @public
  jboolean isEmpty__;
}

@end

@interface ImActorModelModulesStateListsStatesActor_OnDialogsChanged () {
 @public
  jboolean isEmpty__;
}

@end

@implementation ImActorModelModulesStateListsStatesActor

- (instancetype)initWithImActorModelModulesModules:(ImActorModelModulesModules *)modules {
  ImActorModelModulesStateListsStatesActor_initWithImActorModelModulesModules_(self, modules);
  return self;
}

- (void)preStart {
  [super preStart];
  counters_ = new_APAppCounters_init();
  IOSByteArray *data = [((id<DKPreferencesStorage>) nil_chk([self preferences])) getBytesWithKey:@"app.counter_raw"];
  if (data != nil) {
    @try {
      APAppCounters *nCounters = new_APAppCounters_init();
      [nCounters parseWithBSBserValues:new_BSBserValues_initWithImActorModelDroidkitBserUtilSparseArray_(BSBserParser_deserializeWithBSDataInput_(new_BSDataInput_initWithByteArray_(data)))];
      counters_ = nCounters;
    }
    @catch (JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    }
  }
  JavaLangInteger *counter = [counters_ getGlobalCounter];
  if (counter != nil) {
    [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:[counter intValue]];
  }
  else {
    [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:0];
  }
}

- (void)onCounterChangedWithAPAppCounters:(APAppCounters *)counters {
  [((id<DKPreferencesStorage>) nil_chk([self preferences])) putBytesWithKey:@"app.counter_raw" withValue:[((APAppCounters *) nil_chk(counters)) toByteArray]];
  JavaLangInteger *counter = [counters getGlobalCounter];
  if (counter != nil) {
    [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:[counter intValue]];
  }
  else {
    [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onGlobalCounterChangedWithInt:0];
  }
}

- (void)onDialogsChangedWithBoolean:(jboolean)isEmpty {
  [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onDialogsChangedWithBoolean:isEmpty];
}

- (void)onContactsChangedWithBoolean:(jboolean)isEmpty {
  [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onContactsChangedWithBoolean:isEmpty];
}

- (void)onBookImported {
  [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onPhoneImported];
}

- (void)onContactsLoaded {
  [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onContactsLoaded];
}

- (void)onDialogsLoaded {
  [((AMAppStateVM *) nil_chk([((ImActorModelModulesAppStateModule *) nil_chk([((ImActorModelModulesModules *) nil_chk([self modules])) getAppStateModule])) getAppStateVM])) onDialogsLoaded];
}

- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ImActorModelModulesStateListsStatesActor_OnContactsChanged class]]) {
    [self onContactsChangedWithBoolean:[((ImActorModelModulesStateListsStatesActor_OnContactsChanged *) nil_chk(((ImActorModelModulesStateListsStatesActor_OnContactsChanged *) check_class_cast(message, [ImActorModelModulesStateListsStatesActor_OnContactsChanged class])))) isEmpty]];
  }
  else if ([message isKindOfClass:[ImActorModelModulesStateListsStatesActor_OnDialogsChanged class]]) {
    [self onDialogsChangedWithBoolean:[((ImActorModelModulesStateListsStatesActor_OnDialogsChanged *) nil_chk(((ImActorModelModulesStateListsStatesActor_OnDialogsChanged *) check_class_cast(message, [ImActorModelModulesStateListsStatesActor_OnDialogsChanged class])))) isEmpty]];
  }
  else if ([message isKindOfClass:[ImActorModelModulesStateListsStatesActor_OnBookImported class]]) {
    [self onBookImported];
  }
  else if ([message isKindOfClass:[ImActorModelModulesStateListsStatesActor_OnContactsLoaded class]]) {
    [self onContactsLoaded];
  }
  else if ([message isKindOfClass:[ImActorModelModulesStateListsStatesActor_OnDialogsLoaded class]]) {
    [self onDialogsLoaded];
  }
  else if ([message isKindOfClass:[ImActorModelModulesStateListsStatesActor_OnAppCounterChanged class]]) {
    [self onCounterChangedWithAPAppCounters:[((ImActorModelModulesStateListsStatesActor_OnAppCounterChanged *) nil_chk(((ImActorModelModulesStateListsStatesActor_OnAppCounterChanged *) check_class_cast(message, [ImActorModelModulesStateListsStatesActor_OnAppCounterChanged class])))) getCounters]];
  }
  else {
    [self dropWithId:message];
  }
}

@end

void ImActorModelModulesStateListsStatesActor_initWithImActorModelModulesModules_(ImActorModelModulesStateListsStatesActor *self, ImActorModelModulesModules *modules) {
  (void) ImActorModelModulesUtilsModuleActor_initWithImActorModelModulesModules_(self, modules);
}

ImActorModelModulesStateListsStatesActor *new_ImActorModelModulesStateListsStatesActor_initWithImActorModelModulesModules_(ImActorModelModulesModules *modules) {
  ImActorModelModulesStateListsStatesActor *self = [ImActorModelModulesStateListsStatesActor alloc];
  ImActorModelModulesStateListsStatesActor_initWithImActorModelModulesModules_(self, modules);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor)

@implementation ImActorModelModulesStateListsStatesActor_OnAppCounterChanged

- (instancetype)initWithAPAppCounters:(APAppCounters *)counters {
  ImActorModelModulesStateListsStatesActor_OnAppCounterChanged_initWithAPAppCounters_(self, counters);
  return self;
}

- (APAppCounters *)getCounters {
  return counters_;
}

@end

void ImActorModelModulesStateListsStatesActor_OnAppCounterChanged_initWithAPAppCounters_(ImActorModelModulesStateListsStatesActor_OnAppCounterChanged *self, APAppCounters *counters) {
  (void) NSObject_init(self);
  self->counters_ = counters;
}

ImActorModelModulesStateListsStatesActor_OnAppCounterChanged *new_ImActorModelModulesStateListsStatesActor_OnAppCounterChanged_initWithAPAppCounters_(APAppCounters *counters) {
  ImActorModelModulesStateListsStatesActor_OnAppCounterChanged *self = [ImActorModelModulesStateListsStatesActor_OnAppCounterChanged alloc];
  ImActorModelModulesStateListsStatesActor_OnAppCounterChanged_initWithAPAppCounters_(self, counters);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor_OnAppCounterChanged)

@implementation ImActorModelModulesStateListsStatesActor_OnBookImported

- (instancetype)init {
  ImActorModelModulesStateListsStatesActor_OnBookImported_init(self);
  return self;
}

@end

void ImActorModelModulesStateListsStatesActor_OnBookImported_init(ImActorModelModulesStateListsStatesActor_OnBookImported *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesStateListsStatesActor_OnBookImported *new_ImActorModelModulesStateListsStatesActor_OnBookImported_init() {
  ImActorModelModulesStateListsStatesActor_OnBookImported *self = [ImActorModelModulesStateListsStatesActor_OnBookImported alloc];
  ImActorModelModulesStateListsStatesActor_OnBookImported_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor_OnBookImported)

@implementation ImActorModelModulesStateListsStatesActor_OnContactsLoaded

- (instancetype)init {
  ImActorModelModulesStateListsStatesActor_OnContactsLoaded_init(self);
  return self;
}

@end

void ImActorModelModulesStateListsStatesActor_OnContactsLoaded_init(ImActorModelModulesStateListsStatesActor_OnContactsLoaded *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesStateListsStatesActor_OnContactsLoaded *new_ImActorModelModulesStateListsStatesActor_OnContactsLoaded_init() {
  ImActorModelModulesStateListsStatesActor_OnContactsLoaded *self = [ImActorModelModulesStateListsStatesActor_OnContactsLoaded alloc];
  ImActorModelModulesStateListsStatesActor_OnContactsLoaded_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor_OnContactsLoaded)

@implementation ImActorModelModulesStateListsStatesActor_OnDialogsLoaded

- (instancetype)init {
  ImActorModelModulesStateListsStatesActor_OnDialogsLoaded_init(self);
  return self;
}

@end

void ImActorModelModulesStateListsStatesActor_OnDialogsLoaded_init(ImActorModelModulesStateListsStatesActor_OnDialogsLoaded *self) {
  (void) NSObject_init(self);
}

ImActorModelModulesStateListsStatesActor_OnDialogsLoaded *new_ImActorModelModulesStateListsStatesActor_OnDialogsLoaded_init() {
  ImActorModelModulesStateListsStatesActor_OnDialogsLoaded *self = [ImActorModelModulesStateListsStatesActor_OnDialogsLoaded alloc];
  ImActorModelModulesStateListsStatesActor_OnDialogsLoaded_init(self);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor_OnDialogsLoaded)

@implementation ImActorModelModulesStateListsStatesActor_OnContactsChanged

- (instancetype)initWithBoolean:(jboolean)isEmpty {
  ImActorModelModulesStateListsStatesActor_OnContactsChanged_initWithBoolean_(self, isEmpty);
  return self;
}

- (jboolean)isEmpty {
  return isEmpty__;
}

@end

void ImActorModelModulesStateListsStatesActor_OnContactsChanged_initWithBoolean_(ImActorModelModulesStateListsStatesActor_OnContactsChanged *self, jboolean isEmpty) {
  (void) NSObject_init(self);
  self->isEmpty__ = isEmpty;
}

ImActorModelModulesStateListsStatesActor_OnContactsChanged *new_ImActorModelModulesStateListsStatesActor_OnContactsChanged_initWithBoolean_(jboolean isEmpty) {
  ImActorModelModulesStateListsStatesActor_OnContactsChanged *self = [ImActorModelModulesStateListsStatesActor_OnContactsChanged alloc];
  ImActorModelModulesStateListsStatesActor_OnContactsChanged_initWithBoolean_(self, isEmpty);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor_OnContactsChanged)

@implementation ImActorModelModulesStateListsStatesActor_OnDialogsChanged

- (instancetype)initWithBoolean:(jboolean)isEmpty {
  ImActorModelModulesStateListsStatesActor_OnDialogsChanged_initWithBoolean_(self, isEmpty);
  return self;
}

- (jboolean)isEmpty {
  return isEmpty__;
}

@end

void ImActorModelModulesStateListsStatesActor_OnDialogsChanged_initWithBoolean_(ImActorModelModulesStateListsStatesActor_OnDialogsChanged *self, jboolean isEmpty) {
  (void) NSObject_init(self);
  self->isEmpty__ = isEmpty;
}

ImActorModelModulesStateListsStatesActor_OnDialogsChanged *new_ImActorModelModulesStateListsStatesActor_OnDialogsChanged_initWithBoolean_(jboolean isEmpty) {
  ImActorModelModulesStateListsStatesActor_OnDialogsChanged *self = [ImActorModelModulesStateListsStatesActor_OnDialogsChanged alloc];
  ImActorModelModulesStateListsStatesActor_OnDialogsChanged_initWithBoolean_(self, isEmpty);
  return self;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelModulesStateListsStatesActor_OnDialogsChanged)
