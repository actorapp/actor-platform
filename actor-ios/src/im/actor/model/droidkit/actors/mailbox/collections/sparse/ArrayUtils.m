//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/im/actor/model/droidkit/actors/mailbox/collections/sparse/ArrayUtils.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/model/droidkit/actors/mailbox/collections/sparse/ArrayUtils.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/System.h"
#include "java/lang/reflect/Array.h"

@interface ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils () {
}
- (instancetype)init;
@end

BOOL ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_initialized = NO;

@implementation ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils

IOSObjectArray * ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_EMPTY_;
IOSObjectArray * ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_sCache_;

- (instancetype)init {
  return [super init];
}

+ (jint)idealByteArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need);
}

+ (jint)idealBooleanArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealBooleanArraySizeWithInt_(need);
}

+ (jint)idealShortArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealShortArraySizeWithInt_(need);
}

+ (jint)idealCharArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealCharArraySizeWithInt_(need);
}

+ (jint)idealIntArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealIntArraySizeWithInt_(need);
}

+ (jint)idealFloatArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealFloatArraySizeWithInt_(need);
}

+ (jint)idealObjectArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealObjectArraySizeWithInt_(need);
}

+ (jint)idealLongArraySizeWithInt:(jint)need {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealLongArraySizeWithInt_(need);
}

+ (jboolean)equalsWithByteArray:(IOSByteArray *)array1
                  withByteArray:(IOSByteArray *)array2
                        withInt:(jint)length {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_equalsWithByteArray_withByteArray_withInt_(array1, array2, length);
}

+ (IOSObjectArray *)emptyArrayWithIOSClass:(IOSClass *)kind {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_emptyArrayWithIOSClass_(kind);
}

+ (jboolean)containsWithNSObjectArray:(IOSObjectArray *)array
                               withId:(id)value {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsWithNSObjectArray_withId_(array, value);
}

+ (jint)indexOfWithNSObjectArray:(IOSObjectArray *)array
                          withId:(id)value {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_indexOfWithNSObjectArray_withId_(array, value);
}

+ (jboolean)containsAllWithNSObjectArray:(IOSObjectArray *)array
                       withNSObjectArray:(IOSObjectArray *)check {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsAllWithNSObjectArray_withNSObjectArray_(array, check);
}

+ (jboolean)containsWithIntArray:(IOSIntArray *)array
                         withInt:(jint)value {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsWithIntArray_withInt_(array, value);
}

+ (jlong)totalWithLongArray:(IOSLongArray *)array {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_totalWithLongArray_(array);
}

+ (IOSObjectArray *)appendElementWithIOSClass:(IOSClass *)kind
                            withNSObjectArray:(IOSObjectArray *)array
                                       withId:(id)element {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_appendElementWithIOSClass_withNSObjectArray_withId_(kind, array, element);
}

+ (IOSObjectArray *)removeElementWithIOSClass:(IOSClass *)kind
                            withNSObjectArray:(IOSObjectArray *)array
                                       withId:(id)element {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_removeElementWithIOSClass_withNSObjectArray_withId_(kind, array, element);
}

+ (IOSIntArray *)appendIntWithIntArray:(IOSIntArray *)cur
                               withInt:(jint)val {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_appendIntWithIntArray_withInt_(cur, val);
}

+ (IOSIntArray *)removeIntWithIntArray:(IOSIntArray *)cur
                               withInt:(jint)val {
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_removeIntWithIntArray_withInt_(cur, val);
}

+ (void)initialize {
  if (self == [ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils class]) {
    JreStrongAssignAndConsume(&ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_EMPTY_, nil, [IOSObjectArray newArrayWithLength:0 type:NSObject_class_()]);
    JreStrongAssignAndConsume(&ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_sCache_, nil, [IOSObjectArray newArrayWithLength:ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_CACHE_SIZE type:NSObject_class_()]);
    J2OBJC_SET_INITIALIZED(ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "ArrayUtils", NULL, 0x2, NULL },
    { "idealByteArraySizeWithInt:", "idealByteArraySize", "I", 0x9, NULL },
    { "idealBooleanArraySizeWithInt:", "idealBooleanArraySize", "I", 0x9, NULL },
    { "idealShortArraySizeWithInt:", "idealShortArraySize", "I", 0x9, NULL },
    { "idealCharArraySizeWithInt:", "idealCharArraySize", "I", 0x9, NULL },
    { "idealIntArraySizeWithInt:", "idealIntArraySize", "I", 0x9, NULL },
    { "idealFloatArraySizeWithInt:", "idealFloatArraySize", "I", 0x9, NULL },
    { "idealObjectArraySizeWithInt:", "idealObjectArraySize", "I", 0x9, NULL },
    { "idealLongArraySizeWithInt:", "idealLongArraySize", "I", 0x9, NULL },
    { "equalsWithByteArray:withByteArray:withInt:", "equals", "Z", 0x9, NULL },
    { "emptyArrayWithIOSClass:", "emptyArray", "[Ljava.lang.Object;", 0x9, NULL },
    { "containsWithNSObjectArray:withId:", "contains", "Z", 0x9, NULL },
    { "indexOfWithNSObjectArray:withId:", "indexOf", "I", 0x9, NULL },
    { "containsAllWithNSObjectArray:withNSObjectArray:", "containsAll", "Z", 0x9, NULL },
    { "containsWithIntArray:withInt:", "contains", "Z", 0x9, NULL },
    { "totalWithLongArray:", "total", "J", 0x9, NULL },
    { "appendElementWithIOSClass:withNSObjectArray:withId:", "appendElement", "[Ljava.lang.Object;", 0x9, NULL },
    { "removeElementWithIOSClass:withNSObjectArray:withId:", "removeElement", "[Ljava.lang.Object;", 0x9, NULL },
    { "appendIntWithIntArray:withInt:", "appendInt", "[I", 0x9, NULL },
    { "removeIntWithIntArray:withInt:", "removeInt", "[I", 0x9, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "EMPTY_", NULL, 0xa, "[Ljava.lang.Object;", &ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_EMPTY_,  },
    { "CACHE_SIZE_", NULL, 0x1a, "I", NULL, .constantValue.asInt = ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_CACHE_SIZE },
    { "sCache_", NULL, 0xa, "[Ljava.lang.Object;", &ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_sCache_,  },
  };
  static const J2ObjcClassInfo _ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils = { 1, "ArrayUtils", "im.actor.model.droidkit.actors.mailbox.collections.sparse", NULL, 0x1, 20, methods, 3, fields, 0, NULL};
  return &_ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils;
}

@end

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  for (jint i = 4; i < 32; i++) if (need <= (LShift32(1, i)) - 12) return (LShift32(1, i)) - 12;
  return need;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealBooleanArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need);
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealShortArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need * 2) / 2;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealCharArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need * 2) / 2;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealIntArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need * 4) / 4;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealFloatArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need * 4) / 4;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealObjectArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need * 4) / 4;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealLongArraySizeWithInt_(jint need) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_idealByteArraySizeWithInt_(need * 8) / 8;
}

jboolean ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_equalsWithByteArray_withByteArray_withInt_(IOSByteArray *array1, IOSByteArray *array2, jint length) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  if (length < 0) {
    @throw [[[JavaLangIllegalArgumentException alloc] init] autorelease];
  }
  if (array1 == array2) {
    return YES;
  }
  if (array1 == nil || array2 == nil || array1->size_ < length || array2->size_ < length) {
    return NO;
  }
  for (jint i = 0; i < length; i++) {
    if (IOSByteArray_Get(nil_chk(array1), i) != IOSByteArray_Get(nil_chk(array2), i)) {
      return NO;
    }
  }
  return YES;
}

IOSObjectArray *ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_emptyArrayWithIOSClass_(IOSClass *kind) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  if (kind == NSObject_class_()) {
    return (IOSObjectArray *) check_class_cast(ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_EMPTY_, [IOSObjectArray class]);
  }
  jint bucket = ((JavaLangSystem_identityHashCodeWithId_(kind) / 8) & (jint) 0x7FFFFFFF) % ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_CACHE_SIZE;
  id cache = IOSObjectArray_Get(nil_chk(ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_sCache_), bucket);
  if (cache == nil || [[cache getClass] getComponentType] != kind) {
    cache = JavaLangReflectArray_newInstanceWithIOSClass_withInt_(kind, 0);
    IOSObjectArray_Set(ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_sCache_, bucket, cache);
  }
  return (IOSObjectArray *) check_class_cast(cache, [IOSObjectArray class]);
}

jboolean ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsWithNSObjectArray_withId_(IOSObjectArray *array, id value) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  return ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_indexOfWithNSObjectArray_withId_(array, value) != -1;
}

jint ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_indexOfWithNSObjectArray_withId_(IOSObjectArray *array, id value) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  for (jint i = 0; i < ((IOSObjectArray *) nil_chk(array))->size_; i++) {
    if (IOSObjectArray_Get(array, i) == nil) {
      if (value == nil) return i;
    }
    else {
      if (value != nil && [nil_chk(IOSObjectArray_Get(array, i)) isEqual:value]) return i;
    }
  }
  return -1;
}

jboolean ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsAllWithNSObjectArray_withNSObjectArray_(IOSObjectArray *array, IOSObjectArray *check) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  {
    IOSObjectArray *a__ = check;
    id const *b__ = ((IOSObjectArray *) nil_chk(a__))->buffer_;
    id const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      id checkItem = *b__++;
      if (!ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsWithNSObjectArray_withId_(array, checkItem)) {
        return NO;
      }
    }
  }
  return YES;
}

jboolean ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_containsWithIntArray_withInt_(IOSIntArray *array, jint value) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  {
    IOSIntArray *a__ = array;
    jint const *b__ = ((IOSIntArray *) nil_chk(a__))->buffer_;
    jint const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      jint element = *b__++;
      if (element == value) {
        return YES;
      }
    }
  }
  return NO;
}

jlong ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_totalWithLongArray_(IOSLongArray *array) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  jlong total = 0;
  {
    IOSLongArray *a__ = array;
    jlong const *b__ = ((IOSLongArray *) nil_chk(a__))->buffer_;
    jlong const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      jlong value = *b__++;
      total += value;
    }
  }
  return total;
}

IOSObjectArray *ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_appendElementWithIOSClass_withNSObjectArray_withId_(IOSClass *kind, IOSObjectArray *array, id element) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  IOSObjectArray *result;
  jint end;
  if (array != nil) {
    end = array->size_;
    result = (IOSObjectArray *) check_class_cast(JavaLangReflectArray_newInstanceWithIOSClass_withInt_(kind, end + 1), [IOSObjectArray class]);
    JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(array, 0, result, 0, end);
  }
  else {
    end = 0;
    result = (IOSObjectArray *) check_class_cast(JavaLangReflectArray_newInstanceWithIOSClass_withInt_(kind, 1), [IOSObjectArray class]);
  }
  IOSObjectArray_Set(nil_chk(result), end, element);
  return result;
}

IOSObjectArray *ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_removeElementWithIOSClass_withNSObjectArray_withId_(IOSClass *kind, IOSObjectArray *array, id element) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  if (array != nil) {
    jint length = array->size_;
    for (jint i = 0; i < length; i++) {
      if (IOSObjectArray_Get(array, i) == element) {
        if (length == 1) {
          return nil;
        }
        IOSObjectArray *result = (IOSObjectArray *) check_class_cast(JavaLangReflectArray_newInstanceWithIOSClass_withInt_(kind, length - 1), [IOSObjectArray class]);
        JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(array, 0, result, 0, i);
        JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(array, i + 1, result, i, length - i - 1);
        return result;
      }
    }
  }
  return array;
}

IOSIntArray *ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_appendIntWithIntArray_withInt_(IOSIntArray *cur, jint val) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  if (cur == nil) {
    return [IOSIntArray arrayWithInts:(jint[]){ val } count:1];
  }
  jint N = ((IOSIntArray *) nil_chk(cur))->size_;
  for (jint i = 0; i < N; i++) {
    if (IOSIntArray_Get(cur, i) == val) {
      return cur;
    }
  }
  IOSIntArray *ret = [IOSIntArray arrayWithLength:N + 1];
  JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(cur, 0, ret, 0, N);
  *IOSIntArray_GetRef(ret, N) = val;
  return ret;
}

IOSIntArray *ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_removeIntWithIntArray_withInt_(IOSIntArray *cur, jint val) {
  ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils_init();
  if (cur == nil) {
    return nil;
  }
  jint N = ((IOSIntArray *) nil_chk(cur))->size_;
  for (jint i = 0; i < N; i++) {
    if (IOSIntArray_Get(cur, i) == val) {
      IOSIntArray *ret = [IOSIntArray arrayWithLength:N - 1];
      if (i > 0) {
        JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(cur, 0, ret, 0, i);
      }
      if (i < (N - 1)) {
        JavaLangSystem_arraycopyWithId_withInt_withId_withInt_withInt_(cur, i + 1, ret, i, N - i - 1);
      }
      return ret;
    }
  }
  return cur;
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelDroidkitActorsMailboxCollectionsSparseArrayUtils)
