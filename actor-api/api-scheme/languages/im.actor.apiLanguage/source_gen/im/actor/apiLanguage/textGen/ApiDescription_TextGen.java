package im.actor.apiLanguage.textGen;

/*Generated by MPS */

import jetbrains.mps.textGen.SNodeTextGen;
import org.jetbrains.mps.openapi.model.SNode;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SPropertyOperations;
import jetbrains.mps.smodel.adapter.structure.MetaAdapterFactory;
import jetbrains.mps.internal.collections.runtime.ListSequence;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SLinkOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SConceptOperations;
import jetbrains.mps.lang.smodel.generator.smodelAdapter.SNodeOperations;

public class ApiDescription_TextGen extends SNodeTextGen {
  public void doGenerateText(SNode node) {
    this.append("{");
    this.append("\"version\":\"");
    this.append(SPropertyOperations.getString(node, MetaAdapterFactory.getProperty(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6820f4bL, 0x2762a3c939f6c0b4L, "version")));
    this.append("\",");
    this.append("\"scala-package\":\"");
    this.append(SPropertyOperations.getString(node, MetaAdapterFactory.getProperty(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6820f4bL, 0x40b3446384c9726L, "scalaPackage")));
    this.append("\",");
    this.append("\"java-package\":\"");
    this.append(SPropertyOperations.getString(node, MetaAdapterFactory.getProperty(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6820f4bL, 0x514b58ebb61c1da3L, "javaPackage")));
    this.append("\",");
    this.append("\"aliases\":[");
    Boolean isFirstAlias = true;
    for (SNode al : ListSequence.fromList(SLinkOperations.getChildren(node, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6820f4bL, 0x514b58ebb61ac8a3L, "aliases")))) {
      if (!(isFirstAlias)) {
        this.append(",");
      } else {
        isFirstAlias = false;
      }
      this.append("{\"type\":");
      appendNode(SLinkOperations.getTarget(al, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x49b8c233698cb555L, 0x49b8c233698d9cafL, "sourceType")));
      this.append(",");
      this.append("\"alias\":\"");
      this.append(SPropertyOperations.getString(al, MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name")));
      this.append("\"}");
    }
    this.append("],");
    this.appendNewLine();
    this.append("\"sections\":[");
    this.appendNewLine();
    Boolean isFirst = true;
    for (SNode section : ListSequence.fromList(SLinkOperations.getChildren(node, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6820f4bL, 0x20977a66b682213bL, "sections")))) {
      if (!(isFirst)) {
        this.append(",");
      } else {
        isFirst = false;
      }
      this.append("{\"title\":\"");
      this.append(SPropertyOperations.getString(section, MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name")));
      this.append("\"");
      this.appendNewLine();
      this.append(",\"package\":\"");
      this.append(SPropertyOperations.getString(section, MetaAdapterFactory.getProperty(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6821192L, 0x35887d5ec85ab461L, "package")));
      this.append("\"");
      this.appendNewLine();
      if (SLinkOperations.getChildren(section, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6821192L, 0x27b529c14e31bf28L, "docs")) != null && SLinkOperations.getChildren(section, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6821192L, 0x27b529c14e31bf28L, "docs")).size() > 0) {
        this.append(",\"doc\":[");
        this.appendNewLine();
        Boolean isFirstAttribute = true;
        for (SNode doc : ListSequence.fromList(SLinkOperations.getChildren(section, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6821192L, 0x27b529c14e31bf28L, "docs")))) {
          if (!(isFirstAttribute)) {
            this.append(",");
          } else {
            isFirstAttribute = false;
          }
          this.append("\"");
          this.append(SPropertyOperations.getString(doc, MetaAdapterFactory.getProperty(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x27b529c14e31b540L, 0x27b529c14e31b5c6L, "text")).replace("\"", "\\\"").trim());
          this.append("\"");
        }
        this.append("]");
      }
      this.append(",\"items\":[");
      this.appendNewLine();
      this.increaseDepth();
      Boolean isFirstSection = true;
      for (SNode def : ListSequence.fromList(SLinkOperations.getChildren(section, MetaAdapterFactory.getContainmentLink(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b6821192L, 0x20977a66b68211bdL, "definitions")))) {
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b68208d1L, "im.actor.apiLanguage.structure.Struct"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b68208d1L, "im.actor.apiLanguage.structure.Struct")));
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b687f870L, "im.actor.apiLanguage.structure.Enum"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b687f870L, "im.actor.apiLanguage.structure.Enum")));
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b68f84bcL, "im.actor.apiLanguage.structure.Rpc"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b68f84bcL, "im.actor.apiLanguage.structure.Rpc")));
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x4114dc2d7272a279L, "im.actor.apiLanguage.structure.Update"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x4114dc2d7272a279L, "im.actor.apiLanguage.structure.Update")));
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0xb2770c7e79e78e4L, "im.actor.apiLanguage.structure.UpdateBox"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0xb2770c7e79e78e4L, "im.actor.apiLanguage.structure.UpdateBox")));
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b68f591bL, "im.actor.apiLanguage.structure.Response"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x20977a66b68f591bL, "im.actor.apiLanguage.structure.Response")));
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x49b8c233699cfad0L, "im.actor.apiLanguage.structure.Trait"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          appendNode(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x49b8c233699cfad0L, "im.actor.apiLanguage.structure.Trait")));
        }

        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x4114dc2d726af5a3L, "im.actor.apiLanguage.structure.ApiEmptyDef"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          this.append("{\"type\":\"empty\"}");
        }
        if (SConceptOperations.isExactly(SNodeOperations.asSConcept(SNodeOperations.getConceptDeclaration(def)), MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x4114dc2d726b15cfL, "im.actor.apiLanguage.structure.ApiComment"))) {
          if (!(isFirstSection)) {
            this.append(",");
          } else {
            isFirstSection = false;
          }
          this.append("{\"type\":\"comment\",\"content\":\"");
          this.append(SPropertyOperations.getString(SNodeOperations.cast(def, MetaAdapterFactory.getConcept(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x4114dc2d726b15cfL, "im.actor.apiLanguage.structure.ApiComment")), MetaAdapterFactory.getProperty(0x77fdf769432b4edeL, 0x8171050f8dee73fcL, 0x4114dc2d726b15cfL, 0x4114dc2d726b1ae0L, "text")));
          this.append("\"}");
        }


      }
      this.decreaseDepth();
      this.append("]");
      this.append("}");
    }
    this.append("]");
    this.append("}");
  }
  public String getExtension(SNode node) {
    return "json";
  }
  @Override
  public String getFilename(SNode node) {
    return SPropertyOperations.getString(node, MetaAdapterFactory.getProperty(0xceab519525ea4f22L, 0x9b92103b95ca8c0cL, 0x110396eaaa4L, 0x110396ec041L, "name"));
  }
}
